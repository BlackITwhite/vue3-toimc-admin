var At=Object.defineProperty,Nt=Object.defineProperties;var Et=Object.getOwnPropertyDescriptors;var Ea=Object.getOwnPropertySymbols;var It=Object.prototype.hasOwnProperty,Ot=Object.prototype.propertyIsEnumerable;var Ia=(e,a,l)=>a in e?At(e,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[a]=l,Ie=(e,a)=>{for(var l in a||(a={}))It.call(a,l)&&Ia(e,l,a[l]);if(Ea)for(var l of Ea(a))Ot.call(a,l)&&Ia(e,l,a[l]);return e},Ke=(e,a)=>Nt(e,Et(a));import{a7 as qe,G as qa,a8 as Ga,e as ge,R as ta,a9 as Za,C as He,u as Ae,l as Ve,n as Se,aa as Xa,ab as ba,f as U,L as he,ac as Be,ad as da,m as v,ae as Xe,F as Yt,af as Rt,ag as Ja,ah as Ze,ai as Oa,z as ca,q as we,aj as aa,s as ue,r as q,o as b,g as oe,w as G,x as A,W as va,ak as Ue,H as la,y as te,c as O,a as M,O as Re,t as ae,P as Lt,al as ya,am as Ft,an as Qa,ao as _a,ap as Ca,aq as fa,J as pe,I as ve,h as Ye,ar as ke,b as I,as as xa,at as Bt,A as We,au as et,av as at,aw as pa,ax as Ht,ay as tt,az as Ya,aA as Ra,aB as zt,aC as Kt,aD as Je,aE as Qe,a1 as wa,aF as Ut,aG as jt,aH as nt,aI as Wt,aJ as sa,aK as lt,aL as qt,aM as Da,aN as Gt,aO as Zt,aP as Xt,aQ as Jt,aR as Qt,aS as _t,aT as xt,aU as en,aV as an,aW as tn,aX as Oe,a2 as nn,a3 as ln,aY as st,E as Sa,aZ as $a,a_ as Pa,a$ as Ma,b0 as ot,b1 as sn,b2 as Va,K as rt,b3 as on}from"./index.d19aa5ca.js";import{E as it,a as rn}from"./el-checkbox.366c68bf.js";import{E as un}from"./index.a54108f8.js";import{d as J,r as ut,e as dt,a as ct,l as dn}from"./date-utils.02a58937.js";import{R as cn}from"./index.6600b419.js";const La=e=>[...new Set(e)],je=e=>!e&&e!==0?[]:Array.isArray(e)?e:[e];var ft={exports:{}};(function(e,a){(function(l,r){e.exports=r()})(qe,function(){var l={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,s=/\d\d?/,o=/\d*[^\s\d-_:/()]+/,t={},f=function(y){return(y=+y)+(y>68?1900:2e3)},i=function(y){return function(d){this[y]=+d}},k=[/[+-]\d\d:?(\d\d)?|Z/,function(y){(this.zone||(this.zone={})).offset=function(d){if(!d||d==="Z")return 0;var S=d.match(/([+-]|\d\d)/g),w=60*S[1]+(+S[2]||0);return w===0?0:S[0]==="+"?-w:w}(y)}],D=function(y){var d=t[y];return d&&(d.indexOf?d:d.s.concat(d.f))},u=function(y,d){var S,w=t.meridiem;if(w){for(var _=1;_<=24;_+=1)if(y.indexOf(w(_,0,d))>-1){S=_>12;break}}else S=y===(d?"pm":"PM");return S},p={A:[o,function(y){this.afternoon=u(y,!1)}],a:[o,function(y){this.afternoon=u(y,!0)}],S:[/\d/,function(y){this.milliseconds=100*+y}],SS:[n,function(y){this.milliseconds=10*+y}],SSS:[/\d{3}/,function(y){this.milliseconds=+y}],s:[s,i("seconds")],ss:[s,i("seconds")],m:[s,i("minutes")],mm:[s,i("minutes")],H:[s,i("hours")],h:[s,i("hours")],HH:[s,i("hours")],hh:[s,i("hours")],D:[s,i("day")],DD:[n,i("day")],Do:[o,function(y){var d=t.ordinal,S=y.match(/\d+/);if(this.day=S[0],d)for(var w=1;w<=31;w+=1)d(w).replace(/\[|\]/g,"")===y&&(this.day=w)}],M:[s,i("month")],MM:[n,i("month")],MMM:[o,function(y){var d=D("months"),S=(D("monthsShort")||d.map(function(w){return w.slice(0,3)})).indexOf(y)+1;if(S<1)throw new Error;this.month=S%12||S}],MMMM:[o,function(y){var d=D("months").indexOf(y)+1;if(d<1)throw new Error;this.month=d%12||d}],Y:[/[+-]?\d+/,i("year")],YY:[n,function(y){this.year=f(y)}],YYYY:[/\d{4}/,i("year")],Z:k,ZZ:k};function Y(y){var d,S;d=y,S=t&&t.formats;for(var w=(y=d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(ee,le,Q){var $=Q&&Q.toUpperCase();return le||S[Q]||l[Q]||S[$].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(W,R,B){return R||B.slice(1)})})).match(r),_=w.length,P=0;P<_;P+=1){var C=w[P],N=p[C],Z=N&&N[0],x=N&&N[1];w[P]=x?{regex:Z,parser:x}:C.replace(/^\[|\]$/g,"")}return function(ee){for(var le={},Q=0,$=0;Q<_;Q+=1){var W=w[Q];if(typeof W=="string")$+=W.length;else{var R=W.regex,B=W.parser,m=ee.slice($),g=R.exec(m)[0];B.call(le,g),ee=ee.replace(g,"")}}return function(j){var K=j.afternoon;if(K!==void 0){var X=j.hours;K?X<12&&(j.hours+=12):X===12&&(j.hours=0),delete j.afternoon}}(le),le}}return function(y,d,S){S.p.customParseFormat=!0,y&&y.parseTwoDigitYear&&(f=y.parseTwoDigitYear);var w=d.prototype,_=w.parse;w.parse=function(P){var C=P.date,N=P.utc,Z=P.args;this.$u=N;var x=Z[1];if(typeof x=="string"){var ee=Z[2]===!0,le=Z[3]===!0,Q=ee||le,$=Z[2];le&&($=Z[2]),t=this.$locale(),!ee&&$&&(t=S.Ls[$]),this.$d=function(m,g,j){try{if(["x","X"].indexOf(g)>-1)return new Date((g==="X"?1e3:1)*m);var K=Y(g)(m),X=K.year,re=K.month,be=K.day,me=K.hours,ye=K.minutes,$e=K.seconds,E=K.milliseconds,se=K.zone,H=new Date,fe=be||(X||re?1:H.getDate()),Pe=X||H.getFullYear(),Ce=0;X&&!re||(Ce=re>0?re-1:H.getMonth());var Me=me||0,De=ye||0,Ne=$e||0,Ee=E||0;return se?new Date(Date.UTC(Pe,Ce,fe,Me,De,Ne,Ee+60*se.offset*1e3)):j?new Date(Date.UTC(Pe,Ce,fe,Me,De,Ne,Ee)):new Date(Pe,Ce,fe,Me,De,Ne,Ee)}catch{return new Date("")}}(C,x,N),this.init(),$&&$!==!0&&(this.$L=this.locale($).$L),Q&&C!=this.format(x)&&(this.$d=new Date("")),t={}}else if(x instanceof Array)for(var W=x.length,R=1;R<=W;R+=1){Z[1]=x[R-1];var B=S.apply(this,Z);if(B.isValid()){this.$d=B.$d,this.$L=B.$L,this.init();break}R===W&&(this.$d=new Date(""))}else _.call(this,P)}}})})(ft);var fn=ft.exports;const Fa="HH:mm:ss",ea="YYYY-MM-DD",pn={date:ea,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${ea} ${Fa}`,monthrange:"YYYY-MM",daterange:ea,datetimerange:`${ea} ${Fa}`},pt={id:{type:[Array,String]},name:{type:[Array,String],default:""},popperClass:{type:String,default:""},format:{type:String},valueFormat:{type:String},type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:[String,Object],default:qa},editable:{type:Boolean,default:!0},prefixIcon:{type:[String,Object],default:""},size:{type:String,validator:Ga},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},modelValue:{type:[Date,Array,String,Number],default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:[Date,Array]},defaultTime:{type:[Date,Array]},isRange:{type:Boolean,default:!1},disabledHours:{type:Function},disabledMinutes:{type:Function},disabledSeconds:{type:Function},disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean},Ba=function(e,a){const l=e instanceof Date,r=a instanceof Date;return l&&r?e.getTime()===a.getTime():!l&&!r?e===a:!1},Ha=function(e,a){const l=Array.isArray(e),r=Array.isArray(a);return l&&r?e.length!==a.length?!1:e.every((n,s)=>Ba(n,a[s])):!l&&!r?Ba(e,a):!1},za=function(e,a,l){const r=aa(a)||a==="x"?J(e).locale(l):J(e,a).locale(l);return r.isValid()?r:void 0},Ka=function(e,a,l){return aa(a)?e:a==="x"?+e:J(e).locale(l).format(a)},mn=ge({name:"Picker",components:{ElInput:ta,ElTooltip:Za,ElIcon:He},props:pt,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change"],setup(e,a){const{lang:l}=Ae(),r=Ve("date"),n=Ve("input"),s=Ve("range"),o=Se(Xa,{}),t=Se(ba,{}),f=Se("ElPopperOptions",{}),i=U(),k=U(),D=U(!1),u=U(!1),p=U(null);he(D,c=>{var L;c?p.value=e.modelValue:(H.value=null,Be(()=>{Y(e.modelValue)}),a.emit("blur"),Pe(),e.validateEvent&&((L=t.validate)==null||L.call(t,"blur").catch(ce=>da())))});const Y=(c,L)=>{var ce;(L||!Ha(c,p.value))&&(a.emit("change",c),e.validateEvent&&((ce=t.validate)==null||ce.call(t,"change").catch(Te=>da())))},y=c=>{if(!Ha(e.modelValue,c)){let L;Array.isArray(c)?L=c.map(ce=>Ka(ce,e.valueFormat,l.value)):c&&(L=Ka(c,e.valueFormat,l.value)),a.emit("update:modelValue",c&&L,l.value)}},d=v(()=>{if(k.value){const c=me.value?k.value:k.value.$el;return Array.from(c.querySelectorAll("input"))}return[]}),S=v(()=>d==null?void 0:d.value[0]),w=v(()=>d==null?void 0:d.value[1]),_=(c,L,ce)=>{const Te=d.value;!Te.length||(!ce||ce==="min"?(Te[0].setSelectionRange(c,L),Te[0].focus()):ce==="max"&&(Te[1].setSelectionRange(c,L),Te[1].focus()))},P=(c="",L=!1)=>{D.value=L;let ce;Array.isArray(c)?ce=c.map(Te=>Te.toDate()):ce=c&&c.toDate(),H.value=null,y(ce)},C=()=>{u.value=!0},N=()=>{a.emit("visible-change",!0)},Z=()=>{u.value=!1,a.emit("visible-change",!1)},x=(c=!0)=>{let L=S.value;!c&&me.value&&(L=w.value),L&&L.focus()},ee=c=>{e.readonly||Q.value||D.value||(D.value=!0,a.emit("focus",c))},le=()=>{var c;(c=i.value)==null||c.onClose(),Pe()},Q=v(()=>e.disabled||o.disabled),$=v(()=>{let c;if(X.value?T.value.getDefaultValue&&(c=T.value.getDefaultValue()):Array.isArray(e.modelValue)?c=e.modelValue.map(L=>za(L,e.valueFormat,l.value)):c=za(e.modelValue,e.valueFormat,l.value),T.value.getRangeAvailableTime){const L=T.value.getRangeAvailableTime(c);Xe(L,c)||(c=L,y(Array.isArray(c)?c.map(ce=>ce.toDate()):c.toDate()))}return Array.isArray(c)&&c.some(L=>!L)&&(c=[]),c}),W=v(()=>{if(!T.value.panelReady)return;const c=Me($.value);if(Array.isArray(H.value))return[H.value[0]||c&&c[0]||"",H.value[1]||c&&c[1]||""];if(H.value!==null)return H.value;if(!(!B.value&&X.value)&&!(!D.value&&X.value))return c?m.value?c.join(", "):c:""}),R=v(()=>e.type.includes("time")),B=v(()=>e.type.startsWith("time")),m=v(()=>e.type==="dates"),g=v(()=>e.prefixIcon||(R.value?Yt:Rt)),j=U(!1),K=c=>{e.readonly||Q.value||j.value&&(c.stopPropagation(),y(null),Y(null,!0),j.value=!1,D.value=!1,T.value.handleClear&&T.value.handleClear())},X=v(()=>!e.modelValue||Array.isArray(e.modelValue)&&!e.modelValue.length),re=()=>{e.readonly||Q.value||!X.value&&e.clearable&&(j.value=!0)},be=()=>{j.value=!1},me=v(()=>e.type.includes("range")),ye=Ja(),$e=v(()=>{var c,L;return(L=(c=i.value)==null?void 0:c.popperRef)==null?void 0:L.contentRef}),E=v(()=>{var c,L;return(L=(c=Ze(i))==null?void 0:c.popperRef)==null?void 0:L.contentRef}),se=v(()=>{var c;return Ze(me)?Ze(k):(c=Ze(k))==null?void 0:c.$el});Oa(se,c=>{const L=Ze(E),ce=Ze(se);L&&(c.target===L||c.composedPath().includes(L))||c.target===ce||c.composedPath().includes(ce)||(D.value=!1)});const H=U(null),fe=()=>{if(H.value){const c=Ce(W.value);c&&De(c)&&(y(Array.isArray(c)?c.map(L=>L.toDate()):c.toDate()),H.value=null)}H.value===""&&(y(null),Y(null),H.value=null)},Pe=()=>{d.value.forEach(c=>c.blur())},Ce=c=>c?T.value.parseUserInput(c):null,Me=c=>c?T.value.formatToString(c):null,De=c=>T.value.isValidValue(c),Ne=c=>{const L=c.code;if(L===ue.esc){D.value=!1,c.stopPropagation();return}if(L===ue.tab){me.value?setTimeout(()=>{d.value.includes(document.activeElement)||(D.value=!1,Pe())},0):(fe(),D.value=!1,c.stopPropagation());return}if(L===ue.enter||L===ue.numpadEnter){(H.value===null||H.value===""||De(Ce(W.value)))&&(fe(),D.value=!1),c.stopPropagation();return}if(H.value){c.stopPropagation();return}T.value.handleKeydown&&T.value.handleKeydown(c)},Ee=c=>{H.value=c},ze=c=>{H.value?H.value=[c.target.value,H.value[1]]:H.value=[c.target.value,null]},Le=c=>{H.value?H.value=[H.value[0],c.target.value]:H.value=[null,c.target.value]},Fe=()=>{const c=Ce(H.value&&H.value[0]);if(c&&c.isValid()){H.value=[Me(c),W.value[1]];const L=[c,$.value&&$.value[1]];De(L)&&(y(L),H.value=null)}},V=()=>{const c=Ce(H.value&&H.value[1]);if(c&&c.isValid()){H.value=[W.value[0],Me(c)];const L=[$.value&&$.value[0],c];De(L)&&(y(L),H.value=null)}},T=U({}),h=c=>{T.value[c[0]]=c[1],T.value.panelReady=!0},z=c=>{a.emit("calendar-change",c)},de=(c,L,ce)=>{a.emit("panel-change",c,L,ce)};return ca("EP_PICKER_BASE",{props:e}),{nsDate:r,nsInput:n,nsRange:s,elPopperOptions:f,isDatesPicker:m,handleEndChange:V,handleStartChange:Fe,handleStartInput:ze,handleEndInput:Le,onUserInput:Ee,handleChange:fe,handleKeydown:Ne,popperPaneRef:$e,onClickOutside:Oa,pickerSize:ye,isRangeInput:me,onMouseLeave:be,onMouseEnter:re,onClearIconClick:K,showClose:j,triggerIcon:g,onPick:P,handleFocus:ee,handleBlur:le,pickerVisible:D,pickerActualVisible:u,displayValue:W,parsedValue:$,setSelectionRange:_,refPopper:i,inputRef:k,pickerDisabled:Q,onSetPickerOption:h,onCalendarChange:z,onPanelChange:de,focus:x,onShow:N,onBeforeShow:C,onHide:Z}}}),hn=["id","name","placeholder","value","disabled","readonly"],vn=["id","name","placeholder","value","disabled","readonly"];function gn(e,a,l,r,n,s){const o=q("el-icon"),t=q("el-input"),f=q("el-tooltip");return b(),oe(f,Lt({ref:"refPopper",visible:e.pickerVisible,"onUpdate:visible":a[17]||(a[17]=i=>e.pickerVisible=i),effect:"light",pure:"",trigger:"click"},e.$attrs,{"append-to-body":"",transition:`${e.nsDate.namespace.value}-zoom-in-top`,"popper-class":[`${e.nsDate.namespace.value}-picker__popper`,e.popperClass],"popper-options":e.elPopperOptions,"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:e.onBeforeShow,onShow:e.onShow,onHide:e.onHide}),{default:G(()=>[e.isRangeInput?(b(),O("div",{key:1,ref:"inputRef",class:A([e.nsDate.b("editor"),e.nsDate.bm("editor",e.type),e.nsInput.e("inner"),e.nsDate.is("disabled",e.pickerDisabled),e.nsDate.is("active",e.pickerVisible),e.nsRange.b("editor"),e.pickerSize?e.nsRange.bm("editor",e.pickerSize):"",e.$attrs.class]),style:va(e.$attrs.style),onClick:a[7]||(a[7]=(...i)=>e.handleFocus&&e.handleFocus(...i)),onMouseenter:a[8]||(a[8]=(...i)=>e.onMouseEnter&&e.onMouseEnter(...i)),onMouseleave:a[9]||(a[9]=(...i)=>e.onMouseLeave&&e.onMouseLeave(...i)),onKeydown:a[10]||(a[10]=(...i)=>e.handleKeydown&&e.handleKeydown(...i))},[e.triggerIcon?(b(),oe(o,{key:0,class:A([e.nsInput.e("icon"),e.nsRange.e("icon")]),onClick:e.handleFocus},{default:G(()=>[(b(),oe(la(e.triggerIcon)))]),_:1},8,["class","onClick"])):te("v-if",!0),M("input",{id:e.id&&e.id[0],autocomplete:"off",name:e.name&&e.name[0],placeholder:e.startPlaceholder,value:e.displayValue&&e.displayValue[0],disabled:e.pickerDisabled,readonly:!e.editable||e.readonly,class:A(e.nsRange.b("input")),onInput:a[1]||(a[1]=(...i)=>e.handleStartInput&&e.handleStartInput(...i)),onChange:a[2]||(a[2]=(...i)=>e.handleStartChange&&e.handleStartChange(...i)),onFocus:a[3]||(a[3]=(...i)=>e.handleFocus&&e.handleFocus(...i))},null,42,hn),Re(e.$slots,"range-separator",{},()=>[M("span",{class:A(e.nsRange.b("separator"))},ae(e.rangeSeparator),3)]),M("input",{id:e.id&&e.id[1],autocomplete:"off",name:e.name&&e.name[1],placeholder:e.endPlaceholder,value:e.displayValue&&e.displayValue[1],disabled:e.pickerDisabled,readonly:!e.editable||e.readonly,class:A(e.nsRange.b("input")),onFocus:a[4]||(a[4]=(...i)=>e.handleFocus&&e.handleFocus(...i)),onInput:a[5]||(a[5]=(...i)=>e.handleEndInput&&e.handleEndInput(...i)),onChange:a[6]||(a[6]=(...i)=>e.handleEndChange&&e.handleEndChange(...i))},null,42,vn),e.clearIcon?(b(),oe(o,{key:1,class:A([e.nsInput.e("icon"),e.nsRange.e("close-icon"),{[e.nsRange.e("close-icon--hidden")]:!e.showClose}]),onClick:e.onClearIconClick},{default:G(()=>[(b(),oe(la(e.clearIcon)))]),_:1},8,["class","onClick"])):te("v-if",!0)],38)):(b(),oe(t,{key:0,id:e.id,ref:"inputRef","model-value":e.displayValue,name:e.name,size:e.pickerSize,disabled:e.pickerDisabled,placeholder:e.placeholder,class:A([e.nsDate.b("editor"),e.nsDate.bm("editor",e.type),e.$attrs.class]),style:va(e.$attrs.style),readonly:!e.editable||e.readonly||e.isDatesPicker||e.type==="week",onInput:e.onUserInput,onFocus:e.handleFocus,onKeydown:e.handleKeydown,onChange:e.handleChange,onMouseenter:e.onMouseEnter,onMouseleave:e.onMouseLeave,onClick:a[0]||(a[0]=Ue(()=>{},["stop"]))},{prefix:G(()=>[e.triggerIcon?(b(),oe(o,{key:0,class:A(e.nsInput.e("icon")),onClick:e.handleFocus},{default:G(()=>[(b(),oe(la(e.triggerIcon)))]),_:1},8,["class","onClick"])):te("v-if",!0)]),suffix:G(()=>[e.showClose&&e.clearIcon?(b(),oe(o,{key:0,class:A(`${e.nsInput.e("icon")} clear-icon`),onClick:e.onClearIconClick},{default:G(()=>[(b(),oe(la(e.clearIcon)))]),_:1},8,["class","onClick"])):te("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","onInput","onFocus","onKeydown","onChange","onMouseenter","onMouseleave"]))]),content:G(()=>[Re(e.$slots,"default",{visible:e.pickerVisible,actualVisible:e.pickerActualVisible,parsedValue:e.parsedValue,format:e.format,unlinkPanels:e.unlinkPanels,type:e.type,defaultValue:e.defaultValue,onPick:a[11]||(a[11]=(...i)=>e.onPick&&e.onPick(...i)),onSelectRange:a[12]||(a[12]=(...i)=>e.setSelectionRange&&e.setSelectionRange(...i)),onSetPickerOption:a[13]||(a[13]=(...i)=>e.onSetPickerOption&&e.onSetPickerOption(...i)),onCalendarChange:a[14]||(a[14]=(...i)=>e.onCalendarChange&&e.onCalendarChange(...i)),onPanelChange:a[15]||(a[15]=(...i)=>e.onPanelChange&&e.onPanelChange(...i)),onMousedown:a[16]||(a[16]=Ue(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options","onBeforeShow","onShow","onHide"])}var kn=we(mn,[["render",gn],["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const ma=(e,a,l)=>{const r=[],n=a&&l();for(let s=0;s<e;s++)r[s]=n?n.includes(s):!1;return r},ha=e=>e.map((a,l)=>a||l).filter(a=>a!==!0),mt=(e,a,l)=>({getHoursList:(o,t)=>ma(24,e,()=>e(o,t)),getMinutesList:(o,t,f)=>ma(60,a,()=>a(o,t,f)),getSecondsList:(o,t,f,i)=>ma(60,l,()=>l(o,t,f,i))}),bn=(e,a,l)=>{const{getHoursList:r,getMinutesList:n,getSecondsList:s}=mt(e,a,l);return{getAvailableHours:(i,k)=>ha(r(i,k)),getAvailableMinutes:(i,k,D)=>ha(n(i,k,D)),getAvailableSeconds:(i,k,D,u)=>ha(s(i,k,D,u))}},yn=e=>{const a=U(e.parsedValue);return he(()=>e.visible,l=>{l||(a.value=e.parsedValue)}),a},Cn=ge({directives:{repeatClick:cn},components:{ElScrollbar:ya,ElIcon:He,ArrowUp:Ft,ArrowDown:Qa},props:{role:{type:String,required:!0},spinnerDate:{type:Object,required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:String,default:""},disabledHours:{type:Function},disabledMinutes:{type:Function},disabledSeconds:{type:Function}},emits:["change","select-range","set-option"],setup(e,a){const l=Ve("time");let r=!1;const n=_a(E=>{r=!1,ee(E)},200),s=U(null),o=U(null),t=U(null),f=U(null),i={hours:o,minutes:t,seconds:f},k=v(()=>{const E=["hours","minutes","seconds"];return e.showSeconds?E:E.slice(0,2)}),D=v(()=>e.spinnerDate.hour()),u=v(()=>e.spinnerDate.minute()),p=v(()=>e.spinnerDate.second()),Y=v(()=>({hours:D,minutes:u,seconds:p})),y=v(()=>me(e.role)),d=v(()=>ye(D.value,e.role)),S=v(()=>$e(D.value,u.value,e.role)),w=v(()=>({hours:y,minutes:d,seconds:S})),_=v(()=>{const E=D.value;return[E>0?E-1:void 0,E,E<23?E+1:void 0]}),P=v(()=>{const E=u.value;return[E>0?E-1:void 0,E,E<59?E+1:void 0]}),C=v(()=>{const E=p.value;return[E>0?E-1:void 0,E,E<59?E+1:void 0]}),N=v(()=>({hours:_,minutes:P,seconds:C})),Z=E=>{if(!!!e.amPmMode)return"";const H=e.amPmMode==="A";let fe=E<12?" am":" pm";return H&&(fe=fe.toUpperCase()),fe},x=E=>{E==="hours"?a.emit("select-range",0,2):E==="minutes"?a.emit("select-range",3,5):E==="seconds"&&a.emit("select-range",6,8),s.value=E},ee=E=>{$(E,Y.value[E].value)},le=()=>{ee("hours"),ee("minutes"),ee("seconds")},Q=E=>E.querySelector(`.${l.namespace.value}-scrollbar__wrap`),$=(E,se)=>{if(e.arrowControl)return;const H=i[E];H&&H.$el&&(Q(H.$el).scrollTop=Math.max(0,se*W(E)))},W=E=>i[E].$el.querySelector("li").offsetHeight,R=()=>{m(1)},B=()=>{m(-1)},m=E=>{s.value||x("hours");const se=s.value;let H=Y.value[se].value;const fe=s.value==="hours"?24:60;H=(H+E+fe)%fe,g(se,H),$(se,H),Be(()=>x(s.value))},g=(E,se)=>{if(!w.value[E].value[se])switch(E){case"hours":a.emit("change",e.spinnerDate.hour(se).minute(u.value).second(p.value));break;case"minutes":a.emit("change",e.spinnerDate.hour(D.value).minute(se).second(p.value));break;case"seconds":a.emit("change",e.spinnerDate.hour(D.value).minute(u.value).second(se));break}},j=(E,{value:se,disabled:H})=>{H||(g(E,se),x(E),$(E,se))},K=E=>{r=!0,n(E);const se=Math.min(Math.round((Q(i[E].$el).scrollTop-(X(E)*.5-10)/W(E)+3)/W(E)),E==="hours"?23:59);g(E,se)},X=E=>i[E].$el.offsetHeight,re=()=>{const E=se=>{i[se]&&i[se].$el&&(Q(i[se].$el).onscroll=()=>{K(se)})};E("hours"),E("minutes"),E("seconds")};Ca(()=>{Be(()=>{!e.arrowControl&&re(),le(),e.role==="start"&&x("hours")})});const be=(E,se)=>{i[se]=E};a.emit("set-option",[`${e.role}_scrollDown`,m]),a.emit("set-option",[`${e.role}_emitSelectRange`,x]);const{getHoursList:me,getMinutesList:ye,getSecondsList:$e}=mt(e.disabledHours,e.disabledMinutes,e.disabledSeconds);return he(()=>e.spinnerDate,()=>{r||le()}),{ns:l,setRef:be,spinnerItems:k,currentScrollbar:s,hours:D,minutes:u,seconds:p,hoursList:y,minutesList:d,arrowHourList:_,arrowMinuteList:P,arrowSecondList:C,getAmPmFlag:Z,emitSelectRange:x,adjustCurrentSpinner:ee,typeItemHeight:W,listHoursRef:o,listMinutesRef:t,listSecondsRef:f,onIncreaseClick:R,onDecreaseClick:B,handleClick:j,secondsList:S,timePartsMap:Y,arrowListMap:N,listMap:w}}}),wn=["onClick"],Dn=["onMouseenter"];function Sn(e,a,l,r,n,s){const o=q("el-scrollbar"),t=q("arrow-up"),f=q("el-icon"),i=q("arrow-down"),k=fa("repeat-click");return b(),O("div",{class:A([e.ns.b("spinner"),{"has-seconds":e.showSeconds}])},[e.arrowControl?te("v-if",!0):(b(!0),O(pe,{key:0},ve(e.spinnerItems,D=>(b(),oe(o,{key:D,ref_for:!0,ref:u=>e.setRef(u,D),class:A(e.ns.be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":e.ns.be("spinner","list"),noresize:"",tag:"ul",onMouseenter:u=>e.emitSelectRange(D),onMousemove:u=>e.adjustCurrentSpinner(D)},{default:G(()=>[(b(!0),O(pe,null,ve(e.listMap[D].value,(u,p)=>(b(),O("li",{key:p,class:A([e.ns.be("spinner","item"),e.ns.is("active",p===e.timePartsMap[D].value),e.ns.is("disabled",u)]),onClick:Y=>e.handleClick(D,{value:p,disabled:u})},[D==="hours"?(b(),O(pe,{key:0},[Ye(ae(("0"+(e.amPmMode?p%12||12:p)).slice(-2))+ae(e.getAmPmFlag(p)),1)],2112)):(b(),O(pe,{key:1},[Ye(ae(("0"+p).slice(-2)),1)],2112))],10,wn))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),e.arrowControl?(b(!0),O(pe,{key:1},ve(e.spinnerItems,D=>(b(),O("div",{key:D,class:A([e.ns.be("spinner","wrapper"),e.ns.is("arrow")]),onMouseenter:u=>e.emitSelectRange(D)},[ke((b(),oe(f,{class:A(["arrow-up",e.ns.be("spinner","arrow")])},{default:G(()=>[I(t)]),_:1},8,["class"])),[[k,e.onDecreaseClick]]),ke((b(),oe(f,{class:A(["arrow-down",e.ns.be("spinner","arrow")])},{default:G(()=>[I(i)]),_:1},8,["class"])),[[k,e.onIncreaseClick]]),M("ul",{class:A(e.ns.be("spinner","list"))},[(b(!0),O(pe,null,ve(e.arrowListMap[D].value,(u,p)=>(b(),O("li",{key:p,class:A([e.ns.be("spinner","item"),e.ns.is("active",u===e.timePartsMap[D].value),e.ns.is("disabled",e.listMap[D].value[u])])},[typeof u=="number"?(b(),O(pe,{key:0},[D==="hours"?(b(),O(pe,{key:0},[Ye(ae(("0"+(e.amPmMode?u%12||12:u)).slice(-2))+ae(e.getAmPmFlag(u)),1)],2112)):(b(),O(pe,{key:1},[Ye(ae(("0"+u).slice(-2)),1)],2112))],2112)):te("v-if",!0)],2))),128))],2)],42,Dn))),128)):te("v-if",!0)],2)}var $n=we(Cn,[["render",Sn],["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const Pn=ge({components:{TimeSpinner:$n},props:{visible:Boolean,actualVisible:{type:Boolean,default:void 0},datetimeRole:{type:String},parsedValue:{type:[Object,String]},format:{type:String,default:""}},emits:["pick","select-range","set-picker-option"],setup(e,a){const l=Ve("time"),{t:r,lang:n}=Ae(),s=U([0,2]),o=yn(e),t=v(()=>xa(e.actualVisible)?`${l.namespace.value}-zoom-in-top`:""),f=v(()=>e.format.includes("ss")),i=v(()=>e.format.includes("A")?"A":e.format.includes("a")?"a":""),k=m=>{const g=J(m).locale(n.value),j=S(g);return g.isSame(j)},D=()=>{a.emit("pick",o.value,!1)},u=(m=!1,g=!1)=>{g||a.emit("pick",e.parsedValue,m)},p=m=>{if(!e.visible)return;const g=S(m).millisecond(0);a.emit("pick",g,!0)},Y=(m,g)=>{a.emit("select-range",m,g),s.value=[m,g]},y=m=>{const g=[0,3].concat(f.value?[6]:[]),j=["hours","minutes"].concat(f.value?["seconds"]:[]),X=(g.indexOf(s.value[0])+m+g.length)%g.length;C.start_emitSelectRange(j[X])},d=m=>{const g=m.code;if(g===ue.left||g===ue.right){const j=g===ue.left?-1:1;y(j),m.preventDefault();return}if(g===ue.up||g===ue.down){const j=g===ue.up?-1:1;C.start_scrollDown(j),m.preventDefault();return}},S=m=>{const g={hour:W,minute:R,second:B};let j=m;return["hour","minute","second"].forEach(K=>{if(g[K]){let X;const re=g[K];K==="minute"?X=re(j.hour(),e.datetimeRole):K==="second"?X=re(j.hour(),j.minute(),e.datetimeRole):X=re(e.datetimeRole),X&&X.length&&!X.includes(j[K]())&&(j=j[K](X[0]))}}),j},w=m=>m?J(m,e.format).locale(n.value):null,_=m=>m?m.format(e.format):null,P=()=>J($).locale(n.value);a.emit("set-picker-option",["isValidValue",k]),a.emit("set-picker-option",["formatToString",_]),a.emit("set-picker-option",["parseUserInput",w]),a.emit("set-picker-option",["handleKeydown",d]),a.emit("set-picker-option",["getRangeAvailableTime",S]),a.emit("set-picker-option",["getDefaultValue",P]);const C={},N=m=>{C[m[0]]=m[1]},Z=Se("EP_PICKER_BASE"),{arrowControl:x,disabledHours:ee,disabledMinutes:le,disabledSeconds:Q,defaultValue:$}=Z.props,{getAvailableHours:W,getAvailableMinutes:R,getAvailableSeconds:B}=bn(ee,le,Q);return{ns:l,transitionName:t,arrowControl:x,onSetOption:N,t:r,handleConfirm:u,handleChange:p,setSelectionRange:Y,amPmMode:i,showSeconds:f,handleCancel:D,disabledHours:ee,disabledMinutes:le,disabledSeconds:Q}}});function Mn(e,a,l,r,n,s){const o=q("time-spinner");return b(),oe(Bt,{name:e.transitionName},{default:G(()=>[e.actualVisible||e.visible?(b(),O("div",{key:0,class:A(e.ns.b("panel"))},[M("div",{class:A([e.ns.be("panel","content"),{"has-seconds":e.showSeconds}])},[I(o,{ref:"spinner",role:e.datetimeRole||"start","arrow-control":e.arrowControl,"show-seconds":e.showSeconds,"am-pm-mode":e.amPmMode,"spinner-date":e.parsedValue,"disabled-hours":e.disabledHours,"disabled-minutes":e.disabledMinutes,"disabled-seconds":e.disabledSeconds,onChange:e.handleChange,onSetOption:e.onSetOption,onSelectRange:e.setSelectionRange},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onChange","onSetOption","onSelectRange"])],2),M("div",{class:A(e.ns.be("panel","footer"))},[M("button",{type:"button",class:A([e.ns.be("panel","btn"),"cancel"]),onClick:a[0]||(a[0]=(...t)=>e.handleCancel&&e.handleCancel(...t))},ae(e.t("el.datepicker.cancel")),3),M("button",{type:"button",class:A([e.ns.be("panel","btn"),"confirm"]),onClick:a[1]||(a[1]=t=>e.handleConfirm())},ae(e.t("el.datepicker.confirm")),3)],2)],2)):te("v-if",!0)]),_:1},8,["name"])}var ht=we(Pn,[["render",Mn],["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]),Vn=ge({name:"NodeContent",setup(){return{ns:Ve("cascader-node")}},render(){const{ns:e}=this,{node:a,panel:l}=this.$parent,{data:r,label:n}=a,{renderLabelFn:s}=l;return We("span",{class:e.e("label")},s?s({node:a,data:r}):n)}});const Ta=Symbol(),Tn=ge({name:"ElCascaderNode",components:{ElCheckbox:it,ElRadio:un,NodeContent:Vn,ElIcon:He,Check:et,Loading:at,ArrowRight:pa},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:a}){const l=Se(Ta),r=Ve("cascader-node"),n=v(()=>l.isHoverMenu),s=v(()=>l.config.multiple),o=v(()=>l.config.checkStrictly),t=v(()=>{var N;return(N=l.checkedNodes[0])==null?void 0:N.uid}),f=v(()=>e.node.isDisabled),i=v(()=>e.node.isLeaf),k=v(()=>o.value&&!i.value||!f.value),D=v(()=>p(l.expandingNode)),u=v(()=>o.value&&l.checkedNodes.some(p)),p=N=>{var Z;const{level:x,uid:ee}=e.node;return((Z=N==null?void 0:N.pathNodes[x-1])==null?void 0:Z.uid)===ee},Y=()=>{D.value||l.expandNode(e.node)},y=N=>{const{node:Z}=e;N!==Z.checked&&l.handleCheckChange(Z,N)},d=()=>{l.lazyLoad(e.node,()=>{i.value||Y()})},S=N=>{!n.value||(w(),!i.value&&a("expand",N))},w=()=>{const{node:N}=e;!k.value||N.loading||(N.loaded?Y():d())},_=()=>{n.value&&!i.value||(i.value&&!f.value&&!o.value&&!s.value?C(!0):w())},P=N=>{o.value?(y(N),e.node.loaded&&Y()):C(N)},C=N=>{e.node.loaded?(y(N),!o.value&&Y()):d()};return{panel:l,isHoverMenu:n,multiple:s,checkStrictly:o,checkedNodeId:t,isDisabled:f,isLeaf:i,expandable:k,inExpandingPath:D,inCheckedPath:u,ns:r,handleHoverExpand:S,handleExpand:w,handleClick:_,handleCheck:C,handleSelectCheck:P}}}),An=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],Nn=M("span",null,null,-1);function En(e,a,l,r,n,s){const o=q("el-checkbox"),t=q("el-radio"),f=q("check"),i=q("el-icon"),k=q("node-content"),D=q("loading"),u=q("arrow-right");return b(),O("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:A([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:a[2]||(a[2]=(...p)=>e.handleHoverExpand&&e.handleHoverExpand(...p)),onFocus:a[3]||(a[3]=(...p)=>e.handleHoverExpand&&e.handleHoverExpand(...p)),onClick:a[4]||(a[4]=(...p)=>e.handleClick&&e.handleClick(...p))},[te(" prefix "),e.multiple?(b(),oe(o,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:a[0]||(a[0]=Ue(()=>{},["stop"])),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):e.checkStrictly?(b(),oe(t,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:a[1]||(a[1]=Ue(()=>{},["stop"]))},{default:G(()=>[te(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),Nn]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):e.isLeaf&&e.node.checked?(b(),oe(i,{key:2,class:A(e.ns.e("prefix"))},{default:G(()=>[I(f)]),_:1},8,["class"])):te("v-if",!0),te(" content "),I(k),te(" postfix "),e.isLeaf?te("v-if",!0):(b(),O(pe,{key:3},[e.node.loading?(b(),oe(i,{key:0,class:A([e.ns.is("loading"),e.ns.e("postfix")])},{default:G(()=>[I(D)]),_:1},8,["class"])):(b(),oe(i,{key:1,class:A(["arrow-right",e.ns.e("postfix")])},{default:G(()=>[I(u)]),_:1},8,["class"]))],2112))],42,An)}var In=we(Tn,[["render",En],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/node.vue"]]);const On=ge({name:"ElCascaderMenu",components:{Loading:at,ElIcon:He,ElScrollbar:ya,ElCascaderNode:In},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const a=tt(),l=Ve("cascader-menu"),{t:r}=Ae(),n=Ht();let s=null,o=null;const t=Se(Ta),f=U(null),i=v(()=>!e.nodes.length),k=v(()=>!t.initialLoaded),D=v(()=>`cascader-menu-${n}-${e.index}`),u=d=>{s=d.target},p=d=>{if(!(!t.isHoverMenu||!s||!f.value))if(s.contains(d.target)){Y();const S=a.vnode.el,{left:w}=S.getBoundingClientRect(),{offsetWidth:_,offsetHeight:P}=S,C=d.clientX-w,N=s.offsetTop,Z=N+s.offsetHeight;f.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${C} ${N} L${_} 0 V${N} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${C} ${Z} L${_} ${P} V${Z} Z" />
        `}else o||(o=window.setTimeout(y,t.config.hoverThreshold))},Y=()=>{!o||(clearTimeout(o),o=null)},y=()=>{!f.value||(f.value.innerHTML="",Y())};return{ns:l,panel:t,hoverZone:f,isEmpty:i,isLoading:k,menuId:D,t:r,handleExpand:u,handleMouseMove:p,clearHoverZone:y}}});function Yn(e,a,l,r,n,s){const o=q("el-cascader-node"),t=q("loading"),f=q("el-icon"),i=q("el-scrollbar");return b(),oe(i,{key:e.menuId,tag:"ul",role:"menu",class:A(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:G(()=>{var k;return[(b(!0),O(pe,null,ve(e.nodes,D=>(b(),oe(o,{key:D.uid,node:D,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),e.isLoading?(b(),O("div",{key:0,class:A(e.ns.e("empty-text"))},[I(f,{size:"14",class:A(e.ns.is("loading"))},{default:G(()=>[I(t)]),_:1},8,["class"]),Ye(" "+ae(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(b(),O("div",{key:1,class:A(e.ns.e("empty-text"))},ae(e.t("el.cascader.noData")),3)):(k=e.panel)!=null&&k.isHoverMenu?(b(),O("svg",{key:2,ref:"hoverZone",class:A(e.ns.e("hover-zone"))},null,2)):te("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var Rn=we(On,[["render",Yn],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/menu.vue"]]),Aa=(e=>(e.CLICK="click",e.HOVER="hover",e))(Aa||{});let Ln=0;const Fn=e=>{const a=[e];let{parent:l}=e;for(;l;)a.unshift(l),l=l.parent;return a};class _e{constructor(a,l,r,n=!1){this.data=a,this.config=l,this.parent=r,this.root=n,this.uid=Ln++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:s,label:o,children:t}=l,f=a[t],i=Fn(this);this.level=n?0:r?r.level+1:1,this.value=a[s],this.label=a[o],this.pathNodes=i,this.pathValues=i.map(k=>k.value),this.pathLabels=i.map(k=>k.label),this.childrenData=f,this.children=(f||[]).map(k=>new _e(k,l,this)),this.loaded=!l.lazy||this.isLeaf||!aa(f)}get isDisabled(){const{data:a,parent:l,config:r}=this,{disabled:n,checkStrictly:s}=r;return(Ya(n)?n(a,this):!!a[n])||!s&&(l==null?void 0:l.isDisabled)}get isLeaf(){const{data:a,config:l,childrenData:r,loaded:n}=this,{lazy:s,leaf:o}=l,t=Ya(o)?o(a,this):a[o];return xa(t)?s&&!n?!1:!(Array.isArray(r)&&r.length):!!t}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(a){const{childrenData:l,children:r}=this,n=new _e(a,this.config,this);return Array.isArray(l)?l.push(a):this.childrenData=[a],r.push(n),n}calcText(a,l){const r=a?this.pathLabels.join(l):this.label;return this.text=r,r}broadcast(a,...l){const r=`onParent${Ra(a)}`;this.children.forEach(n=>{n&&(n.broadcast(a,...l),n[r]&&n[r](...l))})}emit(a,...l){const{parent:r}=this,n=`onChild${Ra(a)}`;r&&(r[n]&&r[n](...l),r.emit(a,...l))}onParentCheck(a){this.isDisabled||this.setCheckState(a)}onChildCheck(){const{children:a}=this,l=a.filter(n=>!n.isDisabled),r=l.length?l.every(n=>n.checked):!1;this.setCheckState(r)}setCheckState(a){const l=this.children.length,r=this.children.reduce((n,s)=>{const o=s.checked?1:s.indeterminate?.5:0;return n+o},0);this.checked=this.loaded&&this.children.every(n=>n.loaded&&n.checked)&&a,this.indeterminate=this.loaded&&r!==l&&r>0}doCheck(a){if(this.checked===a)return;const{checkStrictly:l,multiple:r}=this.config;l||!r?this.checked=a:(this.broadcast("check",a),this.setCheckState(a),this.emit("check"))}}const ga=(e,a)=>e.reduce((l,r)=>(r.isLeaf?l.push(r):(!a&&l.push(r),l=l.concat(ga(r.children,a))),l),[]);class Ua{constructor(a,l){this.config=l;const r=(a||[]).map(n=>new _e(n,this.config));this.nodes=r,this.allNodes=ga(r,!1),this.leafNodes=ga(r,!0)}getNodes(){return this.nodes}getFlattedNodes(a){return a?this.leafNodes:this.allNodes}appendNode(a,l){const r=l?l.appendChild(a):new _e(a,this.config);l||this.nodes.push(r),this.allNodes.push(r),r.isLeaf&&this.leafNodes.push(r)}appendNodes(a,l){a.forEach(r=>this.appendNode(r,l))}getNodeByValue(a,l=!1){return!a&&a!==0?null:this.getFlattedNodes(l).find(n=>Xe(n.value,a)||Xe(n.pathValues,a))||null}getSameNode(a){return a&&this.getFlattedNodes(!1).find(({value:r,level:n})=>Xe(a.value,r)&&a.level===n)||null}}const vt={modelValue:[Number,String,Array],options:{type:Array,default:()=>[]},props:{type:Object,default:()=>({})}},Bn={expandTrigger:Aa.CLICK,multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:zt,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},Hn=e=>v(()=>Ie(Ie({},Bn),e.props)),ja=e=>{if(!e)return 0;const a=e.id.split("-");return Number(a[a.length-2])},zn=e=>{if(!e)return;const a=e.querySelector("input");a?a.click():Kt(e)&&e.click()},Kn=(e,a)=>{const l=a.slice(0),r=l.map(s=>s.uid),n=e.reduce((s,o)=>{const t=r.indexOf(o.uid);return t>-1&&(s.push(o),l.splice(t,1),r.splice(t,1)),s},[]);return n.push(...l),n},Un=ge({name:"ElCascaderPanel",components:{ElCascaderMenu:Rn},props:Ke(Ie({},vt),{border:{type:Boolean,default:!0},renderLabel:Function}),emits:[Je,Qe,"close","expand-change"],setup(e,{emit:a,slots:l}){let r=!1;const n=Ve("cascader"),s=Hn(e);let o=null;const t=U(!0),f=U([]),i=U(null),k=U([]),D=U(null),u=U([]),p=v(()=>s.value.expandTrigger===Aa.HOVER),Y=v(()=>e.renderLabel||l.default),y=()=>{const{options:$}=e,W=s.value;r=!1,o=new Ua($,W),k.value=[o.getNodes()],W.lazy&&aa(e.options)?(t.value=!1,d(void 0,R=>{R&&(o=new Ua(R,W),k.value=[o.getNodes()]),t.value=!0,x(!1,!0)})):x(!1,!0)},d=($,W)=>{const R=s.value;$=$||new _e({},R,void 0,!0),$.loading=!0;const B=m=>{const g=$,j=g.root?null:g;m&&(o==null||o.appendNodes(m,j)),g.loading=!1,g.loaded=!0,g.childrenData=g.childrenData||[],W&&W(m)};R.lazyLoad($,B)},S=($,W)=>{var R;const{level:B}=$,m=k.value.slice(0,B);let g;$.isLeaf?g=$.pathNodes[B-2]:(g=$,m.push($.children)),((R=D.value)==null?void 0:R.uid)!==(g==null?void 0:g.uid)&&(D.value=$,k.value=m,!W&&a("expand-change",($==null?void 0:$.pathValues)||[]))},w=($,W,R=!0)=>{const{checkStrictly:B,multiple:m}=s.value,g=u.value[0];r=!0,!m&&(g==null||g.doCheck(!1)),$.doCheck(W),Z(),R&&!m&&!B&&a("close"),!R&&!m&&!B&&_($)},_=$=>{!$||($=$.parent,_($),$&&S($))},P=$=>o==null?void 0:o.getFlattedNodes($),C=$=>{var W;return(W=P($))==null?void 0:W.filter(R=>R.checked!==!1)},N=()=>{u.value.forEach($=>$.doCheck(!1)),Z()},Z=()=>{var $;const{checkStrictly:W,multiple:R}=s.value,B=u.value,m=C(!W),g=Kn(B,m),j=g.map(K=>K.valueByOption);u.value=g,i.value=R?j:($=j[0])!=null?$:null},x=($=!1,W=!1)=>{const{modelValue:R}=e,{lazy:B,multiple:m,checkStrictly:g}=s.value,j=!g;if(!(!t.value||r||!W&&Xe(R,i.value)))if(B&&!$){const X=La(jt(je(R))).map(re=>o==null?void 0:o.getNodeByValue(re)).filter(re=>!!re&&!re.loaded&&!re.loading);X.length?X.forEach(re=>{d(re,()=>x(!1,W))}):x(!0,W)}else{const K=m?je(R):[R],X=La(K.map(re=>o==null?void 0:o.getNodeByValue(re,j)));ee(X,!1),i.value=R}},ee=($,W=!0)=>{const{checkStrictly:R}=s.value,B=u.value,m=$.filter(K=>!!K&&(R||K.isLeaf)),g=o==null?void 0:o.getSameNode(D.value),j=W&&g||m[0];j?j.pathNodes.forEach(K=>S(K,!0)):D.value=null,B.forEach(K=>K.doCheck(!1)),m.forEach(K=>K.doCheck(!0)),u.value=m,Be(le)},le=()=>{!nt||f.value.forEach($=>{const W=$==null?void 0:$.$el;if(W){const R=W.querySelector(`.${n.namespace.value}-scrollbar__wrap`),B=W.querySelector(`.${n.b("node")}.${n.is("active")}`)||W.querySelector(`.${n.b("node")}.in-active-path`);Wt(R,B)}})},Q=$=>{const W=$.target,{code:R}=$;switch(R){case ue.up:case ue.down:{$.preventDefault();const B=R===ue.up?-1:1;sa(lt(W,B,`.${n.b("node")}[tabindex="-1"]`));break}case ue.left:{$.preventDefault();const B=f.value[ja(W)-1],m=B==null?void 0:B.$el.querySelector(`.${n.b("node")}[aria-expanded="true"]`);sa(m);break}case ue.right:{$.preventDefault();const B=f.value[ja(W)+1],m=B==null?void 0:B.$el.querySelector(`.${n.b("node")}[tabindex="-1"]`);sa(m);break}case ue.enter:zn(W);break;case ue.esc:case ue.tab:a("close");break}};return ca(Ta,wa({config:s,expandingNode:D,checkedNodes:u,isHoverMenu:p,initialLoaded:t,renderLabelFn:Y,lazyLoad:d,expandNode:S,handleCheckChange:w})),he([s,()=>e.options],y,{deep:!0,immediate:!0}),he(()=>e.modelValue,()=>{r=!1,x()}),he(i,$=>{Xe($,e.modelValue)||(a(Je,$),a(Qe,$))}),Ut(()=>f.value=[]),Ca(()=>!aa(e.modelValue)&&x()),{ns:n,menuList:f,menus:k,checkedNodes:u,handleKeyDown:Q,handleCheckChange:w,getFlattedNodes:P,getCheckedNodes:C,clearCheckedNodes:N,calculateCheckedValue:Z,scrollToExpandingNode:le}}});function jn(e,a,l,r,n,s){const o=q("el-cascader-menu");return b(),O("div",{class:A([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:a[0]||(a[0]=(...t)=>e.handleKeyDown&&e.handleKeyDown(...t))},[(b(!0),O(pe,null,ve(e.menus,(t,f)=>(b(),oe(o,{key:f,ref_for:!0,ref:i=>e.menuList[f]=i,index:f,nodes:[...t]},null,8,["index","nodes"]))),128))],34)}var oa=we(Un,[["render",jn],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/index.vue"]]);oa.install=e=>{e.component(oa.name,oa)};const Wn=oa,qn=40,Gn={large:36,default:32,small:28},Zn={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:e})=>{const{modifiersData:a,placement:l}=e;["right","left","bottom","top"].includes(l)||(a.arrow.x=35)},requires:["arrow"]}]},Wa="ElCascader",Xn=ge({name:Wa,components:{ElCascaderPanel:Wn,ElInput:ta,ElTooltip:Za,ElScrollbar:ya,ElTag:qt,ElIcon:He,CircleClose:qa,Check:et,ArrowDown:Qa},directives:{Clickoutside:Da},props:Ke(Ie({},vt),{size:{type:String,validator:Ga},placeholder:{type:String},disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Function,default:(e,a)=>e.text.includes(a)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Function,default:()=>!0},popperClass:{type:String,default:""},popperAppendToBody:{type:Boolean,default:void 0},teleported:Gt.teleported,tagType:Ke(Ie({},Zt.type),{default:"info"})}),emits:[Je,Qe,"focus","blur","visible-change","expand-change","remove-tag"],setup(e,{emit:a}){let l=0,r=0;const{compatTeleported:n}=Xt(Wa,"popperAppendToBody"),s=Ve("cascader"),o=Ve("input"),{t}=Ae(),f=Se(Xa,{}),i=Se(ba,{}),k=U(null),D=U(null),u=U(null),p=U(null),Y=U(null),y=U(!1),d=U(!1),S=U(!1),w=U(""),_=U(""),P=U([]),C=U([]),N=U([]),Z=U(!1),x=v(()=>e.disabled||f.disabled),ee=v(()=>e.placeholder||t("el.cascader.placeholder")),le=Ja(),Q=v(()=>["small"].includes(le.value)?"small":"default"),$=v(()=>!!e.props.multiple),W=v(()=>!e.filterable||$.value),R=v(()=>$.value?_.value:w.value),B=v(()=>{var V;return((V=p.value)==null?void 0:V.checkedNodes)||[]}),m=v(()=>!e.clearable||x.value||S.value||!d.value?!1:!!B.value.length),g=v(()=>{const{showAllLevels:V,separator:T}=e,h=B.value;return h.length?$.value?" ":h[0].calcText(V,T):""}),j=v({get(){return e.modelValue},set(V){var T;a(Je,V),a(Qe,V),(T=i.validate)==null||T.call(i,"change").catch(h=>da())}}),K=v(()=>{var V,T;return(T=(V=k.value)==null?void 0:V.popperRef)==null?void 0:T.contentRef}),X=V=>{var T,h,z;if(!x.value&&(V=V!=null?V:!y.value,V!==y.value)){if(y.value=V,(h=(T=D.value)==null?void 0:T.input)==null||h.setAttribute("aria-expanded",`${V}`),V)re(),Be((z=p.value)==null?void 0:z.scrollToExpandingNode);else if(e.filterable){const{value:de}=g;w.value=de,_.value=de}a("visible-change",V)}},re=()=>{Be(()=>{var V;(V=k.value)==null||V.updatePopper()})},be=()=>{S.value=!1},me=V=>{const{showAllLevels:T,separator:h}=e;return{node:V,key:V.uid,text:V.calcText(T,h),hitState:!1,closable:!x.value&&!V.isDisabled,isCollapseTag:!1}},ye=V=>{var T;const h=V.node;h.doCheck(!1),(T=p.value)==null||T.calculateCheckedValue(),a("remove-tag",h.valueByOption)},$e=()=>{if(!$.value)return;const V=B.value,T=[],h=[];if(V.forEach(z=>h.push(me(z))),C.value=h,V.length){const[z,...de]=V,c=de.length;T.push(me(z)),c&&(e.collapseTags?T.push({key:-1,text:`+ ${c}`,closable:!1,isCollapseTag:!0}):de.forEach(L=>T.push(me(L))))}P.value=T},E=()=>{var V,T;const{filterMethod:h,showAllLevels:z,separator:de}=e,c=(T=(V=p.value)==null?void 0:V.getFlattedNodes(!e.props.checkStrictly))==null?void 0:T.filter(L=>L.isDisabled?!1:(L.calcText(z,de),h(L,R.value)));$.value&&(P.value.forEach(L=>{L.hitState=!1}),C.value.forEach(L=>{L.hitState=!1})),S.value=!0,N.value=c,re()},se=()=>{var V;let T;S.value&&Y.value?T=Y.value.$el.querySelector(`.${s.e("suggestion-item")}`):T=(V=p.value)==null?void 0:V.$el.querySelector(`.${s.b("node")}[tabindex="-1"]`),T&&(T.focus(),!S.value&&T.click())},H=()=>{var V,T;const h=(V=D.value)==null?void 0:V.input,z=u.value,de=(T=Y.value)==null?void 0:T.$el;if(!(!nt||!h)){if(de){const c=de.querySelector(`.${s.e("suggestion-list")}`);c.style.minWidth=`${h.offsetWidth}px`}if(z){const{offsetHeight:c}=z,L=P.value.length>0?`${Math.max(c+6,l)}px`:`${l}px`;h.style.height=L,re()}}},fe=V=>{var T;return(T=p.value)==null?void 0:T.getCheckedNodes(V)},Pe=V=>{re(),a("expand-change",V)},Ce=V=>{var T;const h=(T=V.target)==null?void 0:T.value;if(V.type==="compositionend")Z.value=!1,Be(()=>Fe(h));else{const z=h[h.length-1]||"";Z.value=!en(z)}},Me=V=>{if(!Z.value)switch(V.code){case ue.enter:X();break;case ue.down:X(!0),Be(se),V.preventDefault();break;case ue.esc:case ue.tab:X(!1);break}},De=()=>{var V;(V=p.value)==null||V.clearCheckedNodes(),X(!1)},Ne=V=>{var T,h;const{checked:z}=V;$.value?(T=p.value)==null||T.handleCheckChange(V,!z,!1):(!z&&((h=p.value)==null||h.handleCheckChange(V,!0,!1)),X(!1))},Ee=V=>{const T=V.target,{code:h}=V;switch(h){case ue.up:case ue.down:{const z=h===ue.up?-1:1;sa(lt(T,z,`.${s.e("suggestion-item")}[tabindex="-1"]`));break}case ue.enter:T.click();break;case ue.esc:case ue.tab:X(!1);break}},ze=()=>{const V=P.value,T=V[V.length-1];r=_.value?0:r+1,!(!T||!r)&&(T.hitState?ye(T):T.hitState=!0)},Le=_a(()=>{const{value:V}=R;if(!V)return;const T=e.beforeFilter(V);Jt(T)?T.then(E).catch(()=>{}):T!==!1?E():be()},e.debounce),Fe=(V,T)=>{!y.value&&X(!0),!(T!=null&&T.isComposing)&&(V?Le():be())};return he(S,re),he([B,x],$e),he(P,()=>{Be(()=>H())}),he(g,V=>w.value=V,{immediate:!0}),Ca(()=>{var V;const T=(V=D.value)==null?void 0:V.$el;l=(T==null?void 0:T.offsetHeight)||Gn[le.value]||qn,Qt(T,H)}),_t(()=>{var V;xt((V=D.value)==null?void 0:V.$el,H)}),{popperOptions:Zn,tooltipRef:k,popperPaneRef:K,input:D,tagWrapper:u,panel:p,suggestionPanel:Y,popperVisible:y,inputHover:d,inputPlaceholder:ee,filtering:S,presentText:g,checkedValue:j,inputValue:w,searchInputValue:_,presentTags:P,allPresentTags:C,suggestions:N,isDisabled:x,isOnComposition:Z,realSize:le,tagSize:Q,multiple:$,readonly:W,clearBtnVisible:m,compatTeleported:n,nsCascader:s,nsInput:o,t,togglePopperVisible:X,hideSuggestionPanel:be,deleteTag:ye,focusFirstNode:se,getCheckedNodes:fe,handleExpandChange:Pe,handleKeyDown:Me,handleComposition:Ce,handleClear:De,handleSuggestionClick:Ne,handleSuggestionKeyDown:Ee,handleDelete:ze,handleInput:Fe}}}),Jn={key:0},Qn={class:"el-cascader__collapse-tags"},_n=["placeholder"],xn=["onClick"];function el(e,a,l,r,n,s){const o=q("circle-close"),t=q("el-icon"),f=q("arrow-down"),i=q("el-input"),k=q("el-tag"),D=q("el-tooltip"),u=q("el-cascader-panel"),p=q("check"),Y=q("el-scrollbar"),y=fa("clickoutside");return b(),oe(D,{ref:"tooltipRef",visible:e.popperVisible,"onUpdate:visible":a[17]||(a[17]=d=>e.popperVisible=d),teleported:e.compatTeleported,"popper-class":[e.nsCascader.e("dropdown"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${e.nsCascader.namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:e.hideSuggestionPanel},{default:G(()=>[ke((b(),O("div",{class:A([e.nsCascader.b(),e.nsCascader.m(e.realSize),e.nsCascader.is("disabled",e.isDisabled),e.$attrs.class]),style:va(e.$attrs.style),onClick:a[11]||(a[11]=()=>e.togglePopperVisible(e.readonly?void 0:!0)),onKeydown:a[12]||(a[12]=(...d)=>e.handleKeyDown&&e.handleKeyDown(...d)),onMouseenter:a[13]||(a[13]=d=>e.inputHover=!0),onMouseleave:a[14]||(a[14]=d=>e.inputHover=!1)},[I(i,{ref:"input",modelValue:e.inputValue,"onUpdate:modelValue":a[1]||(a[1]=d=>e.inputValue=d),placeholder:e.inputPlaceholder,readonly:e.readonly,disabled:e.isDisabled,"validate-event":!1,size:e.realSize,class:A(e.nsCascader.is("focus",e.popperVisible)),onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onFocus:a[2]||(a[2]=d=>e.$emit("focus",d)),onBlur:a[3]||(a[3]=d=>e.$emit("blur",d)),onInput:e.handleInput},{suffix:G(()=>[e.clearBtnVisible?(b(),oe(t,{key:"clear",class:A([e.nsInput.e("icon"),"icon-circle-close"]),onClick:Ue(e.handleClear,["stop"])},{default:G(()=>[I(o)]),_:1},8,["class","onClick"])):(b(),oe(t,{key:"arrow-down",class:A([e.nsInput.e("icon"),"icon-arrow-down",e.nsCascader.is("reverse",e.popperVisible)]),onClick:a[0]||(a[0]=Ue(d=>e.togglePopperVisible(),["stop"]))},{default:G(()=>[I(f)]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","onCompositionstart","onCompositionupdate","onCompositionend","onInput"]),e.multiple?(b(),O("div",{key:0,ref:"tagWrapper",class:A(e.nsCascader.e("tags"))},[(b(!0),O(pe,null,ve(e.presentTags,d=>(b(),oe(k,{key:d.key,type:e.tagType,size:e.tagSize,hit:d.hitState,closable:d.closable,"disable-transitions":"",onClose:S=>e.deleteTag(d)},{default:G(()=>[d.isCollapseTag===!1?(b(),O("span",Jn,ae(d.text),1)):(b(),oe(D,{key:1,teleported:!1,disabled:e.popperVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:G(()=>[M("span",null,ae(d.text),1)]),content:G(()=>[M("div",Qn,[(b(!0),O(pe,null,ve(e.allPresentTags,(S,w)=>(b(),O("div",{key:w,class:"el-cascader__collapse-tag"},[(b(),oe(k,{key:S.key,class:"in-tooltip",type:e.tagType,size:e.tagSize,hit:S.hitState,closable:S.closable,"disable-transitions":"",onClose:_=>e.deleteTag(S)},{default:G(()=>[M("span",null,ae(S.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))]))),128))])]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),e.filterable&&!e.isDisabled?ke((b(),O("input",{key:0,"onUpdate:modelValue":a[4]||(a[4]=d=>e.searchInputValue=d),type:"text",class:A(e.nsCascader.e("search-input")),placeholder:e.presentText?"":e.inputPlaceholder,onInput:a[5]||(a[5]=d=>e.handleInput(e.searchInputValue,d)),onClick:a[6]||(a[6]=Ue(d=>e.togglePopperVisible(!0),["stop"])),onKeydown:a[7]||(a[7]=an((...d)=>e.handleDelete&&e.handleDelete(...d),["delete"])),onCompositionstart:a[8]||(a[8]=(...d)=>e.handleComposition&&e.handleComposition(...d)),onCompositionupdate:a[9]||(a[9]=(...d)=>e.handleComposition&&e.handleComposition(...d)),onCompositionend:a[10]||(a[10]=(...d)=>e.handleComposition&&e.handleComposition(...d))},null,42,_n)),[[tn,e.searchInputValue]]):te("v-if",!0)],2)):te("v-if",!0)],38)),[[y,()=>e.togglePopperVisible(!1),e.popperPaneRef]])]),content:G(()=>[ke(I(u,{ref:"panel",modelValue:e.checkedValue,"onUpdate:modelValue":a[15]||(a[15]=d=>e.checkedValue=d),options:e.options,props:e.props,border:!1,"render-label":e.$slots.default,onExpandChange:e.handleExpandChange,onClose:a[16]||(a[16]=d=>e.$nextTick(()=>e.togglePopperVisible(!1)))},null,8,["modelValue","options","props","render-label","onExpandChange"]),[[Oe,!e.filtering]]),e.filterable?ke((b(),oe(Y,{key:0,ref:"suggestionPanel",tag:"ul",class:A(e.nsCascader.e("suggestion-panel")),"view-class":e.nsCascader.e("suggestion-list"),onKeydown:e.handleSuggestionKeyDown},{default:G(()=>[e.suggestions.length?(b(!0),O(pe,{key:0},ve(e.suggestions,d=>(b(),O("li",{key:d.uid,class:A([e.nsCascader.e("suggestion-item"),e.nsCascader.is("checked",d.checked)]),tabindex:-1,onClick:S=>e.handleSuggestionClick(d)},[M("span",null,ae(d.text),1),d.checked?(b(),oe(t,{key:0},{default:G(()=>[I(p)]),_:1})):te("v-if",!0)],10,xn))),128)):Re(e.$slots,"empty",{key:1},()=>[M("li",{class:A(e.nsCascader.e("empty-text"))},ae(e.t("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class","onKeydown"])),[[Oe,e.filtering]]):te("v-if",!0)]),_:3},8,["visible","teleported","popper-class","popper-options","transition","onHide"])}var ra=we(Xn,[["render",el],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader/src/index.vue"]]);ra.install=e=>{e.component(ra.name,ra)};const al=ra,_s=al;var gt={exports:{}};(function(e,a){(function(l,r){e.exports=r()})(qe,function(){return function(l,r,n){var s=r.prototype,o=s.format;n.en.ordinal=function(t){var f=["th","st","nd","rd"],i=t%100;return"["+t+(f[(i-20)%10]||f[i]||f[0])+"]"},s.format=function(t){var f=this,i=this.$locale();if(!this.isValid())return o.bind(this)(t);var k=this.$utils(),D=(t||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(u){switch(u){case"Q":return Math.ceil((f.$M+1)/3);case"Do":return i.ordinal(f.$D);case"gggg":return f.weekYear();case"GGGG":return f.isoWeekYear();case"wo":return i.ordinal(f.week(),"W");case"w":case"ww":return k.s(f.week(),u==="w"?1:2,"0");case"W":case"WW":return k.s(f.isoWeek(),u==="W"?1:2,"0");case"k":case"kk":return k.s(String(f.$H===0?24:f.$H),u==="k"?1:2,"0");case"X":return Math.floor(f.$d.getTime()/1e3);case"x":return f.$d.getTime();case"z":return"["+f.offsetName()+"]";case"zzz":return"["+f.offsetName("long")+"]";default:return u}});return o.bind(this)(D)}}})})(gt);var tl=gt.exports,kt={exports:{}};(function(e,a){(function(l,r){e.exports=r()})(qe,function(){var l="week",r="year";return function(n,s,o){var t=s.prototype;t.week=function(f){if(f===void 0&&(f=null),f!==null)return this.add(7*(f-this.week()),"day");var i=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var k=o(this).startOf(r).add(1,r).date(i),D=o(this).endOf(l);if(k.isBefore(D))return 1}var u=o(this).startOf(r).date(i).startOf(l).subtract(1,"millisecond"),p=this.diff(u,l,!0);return p<0?o(this).startOf("week").week():Math.ceil(p)},t.weeks=function(f){return f===void 0&&(f=null),this.week(f)}}})})(kt);var nl=kt.exports,bt={exports:{}};(function(e,a){(function(l,r){e.exports=r()})(qe,function(){return function(l,r){r.prototype.weekYear=function(){var n=this.month(),s=this.week(),o=this.year();return s===1&&n===11?o+1:n===0&&s>=52?o-1:o}}})})(bt);var ll=bt.exports,yt={exports:{}};(function(e,a){(function(l,r){e.exports=r()})(qe,function(){return function(l,r,n){r.prototype.dayOfYear=function(s){var o=Math.round((n(this).startOf("day")-n(this).startOf("year"))/864e5)+1;return s==null?o:this.add(s-o,"day")}}})})(yt);var sl=yt.exports,Ct={exports:{}};(function(e,a){(function(l,r){e.exports=r()})(qe,function(){return function(l,r){r.prototype.isSameOrAfter=function(n,s){return this.isSame(n,s)||this.isAfter(n,s)}}})})(Ct);var ol=Ct.exports,wt={exports:{}};(function(e,a){(function(l,r){e.exports=r()})(qe,function(){return function(l,r){r.prototype.isSameOrBefore=function(n,s){return this.isSame(n,s)||this.isBefore(n,s)}}})})(wt);var rl=wt.exports;const Dt=Symbol();var il=ge({name:"ElDatePickerCell",props:nn({cell:{type:ln(Object)}}),setup(e){const a=Se(Dt);return()=>{const l=e.cell;if(a!=null&&a.ctx.slots.default){const r=a.ctx.slots.default(l).filter(n=>n.patchFlag!==-2&&n.type.toString()!=="Symbol(Comment)");if(r.length)return r}return We("div",{class:"el-date-table-cell"},[We("span",{class:"el-date-table-cell__text"},[l==null?void 0:l.text])])}}});const ul=ge({components:{ElDatePickerCell:il},props:{date:{type:Object},minDate:{type:Object},maxDate:{type:Object},parsedValue:{type:[Object,Array]},selectionMode:{type:String,default:"day"},showWeekNumber:{type:Boolean,default:!1},disabledDate:{type:Function},cellClassName:{type:Function},rangeState:{type:Object,default:()=>({endDate:null,selecting:!1})}},emits:["changerange","pick","select"],setup(e,a){const{t:l,lang:r}=Ae(),n=U(null),s=U(null),o=U([[],[],[],[],[],[]]),t=e.date.$locale().weekStart||7,f=e.date.locale("en").localeData().weekdaysShort().map(P=>P.toLowerCase()),i=v(()=>t>3?7-t:-t),k=v(()=>{const P=e.date.startOf("month");return P.subtract(P.day()||7,"day")}),D=v(()=>f.concat(f).slice(t,t+7)),u=v(()=>{var P;const C=e.date.startOf("month"),N=C.day()||7,Z=C.daysInMonth(),x=C.subtract(1,"month").daysInMonth(),ee=i.value,le=o.value;let Q=1;const $=e.selectionMode==="dates"?je(e.parsedValue):[],W=J().locale(r.value).startOf("day");for(let R=0;R<6;R++){const B=le[R];e.showWeekNumber&&(B[0]||(B[0]={type:"week",text:k.value.add(R*7+1,"day").week()}));for(let m=0;m<7;m++){let g=B[e.showWeekNumber?m+1:m];g||(g={row:R,column:m,type:"normal",inRange:!1,start:!1,end:!1});const j=R*7+m,K=k.value.add(j-ee,"day");g.dayjs=K,g.date=K.toDate(),g.timestamp=K.valueOf(),g.type="normal";const X=e.rangeState.endDate||e.maxDate||e.rangeState.selecting&&e.minDate;if(g.inRange=e.minDate&&K.isSameOrAfter(e.minDate,"day")&&X&&K.isSameOrBefore(X,"day")||e.minDate&&K.isSameOrBefore(e.minDate,"day")&&X&&K.isSameOrAfter(X,"day"),(P=e.minDate)!=null&&P.isSameOrAfter(X)?(g.start=X&&K.isSame(X,"day"),g.end=e.minDate&&K.isSame(e.minDate,"day")):(g.start=e.minDate&&K.isSame(e.minDate,"day"),g.end=X&&K.isSame(X,"day")),K.isSame(W,"day")&&(g.type="today"),R>=0&&R<=1){const me=N+ee<0?7+N+ee:N+ee;m+R*7>=me?g.text=Q++:(g.text=x-(me-m%7)+1+R*7,g.type="prev-month")}else Q<=Z?g.text=Q++:(g.text=Q++-Z,g.type="next-month");const be=K.toDate();g.selected=$.find(me=>me.valueOf()===K.valueOf()),g.isSelected=!!g.selected,g.isCurrent=p(g),g.disabled=e.disabledDate&&e.disabledDate(be),g.customClass=e.cellClassName&&e.cellClassName(be),B[e.showWeekNumber?m+1:m]=g}if(e.selectionMode==="week"){const m=e.showWeekNumber?1:0,g=e.showWeekNumber?7:6,j=_(B[m+1]);B[m].inRange=j,B[m].start=j,B[g].inRange=j,B[g].end=j}}return le}),p=P=>e.selectionMode==="day"&&(P.type==="normal"||P.type==="today")&&Y(P,e.parsedValue),Y=(P,C)=>C?J(C).locale(r.value).isSame(e.date.date(Number(P.text)),"day"):!1,y=P=>{const C=[];return(P.type==="normal"||P.type==="today")&&!P.disabled?(C.push("available"),P.type==="today"&&C.push("today")):C.push(P.type),p(P)&&C.push("current"),P.inRange&&(P.type==="normal"||P.type==="today"||e.selectionMode==="week")&&(C.push("in-range"),P.start&&C.push("start-date"),P.end&&C.push("end-date")),P.disabled&&C.push("disabled"),P.selected&&C.push("selected"),P.customClass&&C.push(P.customClass),C.join(" ")},d=(P,C)=>{const N=P*7+(C-(e.showWeekNumber?1:0))-i.value;return k.value.add(N,"day")},S=P=>{if(!e.rangeState.selecting)return;let C=P.target;if(C.tagName==="SPAN"&&(C=C.parentNode.parentNode),C.tagName==="DIV"&&(C=C.parentNode),C.tagName!=="TD")return;const N=C.parentNode.rowIndex-1,Z=C.cellIndex;u.value[N][Z].disabled||(N!==n.value||Z!==s.value)&&(n.value=N,s.value=Z,a.emit("changerange",{selecting:!0,endDate:d(N,Z)}))},w=P=>{let C=P.target;for(;C&&C.tagName!=="TD";)C=C.parentNode;if(!C||C.tagName!=="TD")return;const N=C.parentNode.rowIndex-1,Z=C.cellIndex,x=u.value[N][Z];if(x.disabled||x.type==="week")return;const ee=d(N,Z);if(e.selectionMode==="range")e.rangeState.selecting?(ee>=e.minDate?a.emit("pick",{minDate:e.minDate,maxDate:ee}):a.emit("pick",{minDate:ee,maxDate:e.minDate}),a.emit("select",!1)):(a.emit("pick",{minDate:ee,maxDate:null}),a.emit("select",!0));else if(e.selectionMode==="day")a.emit("pick",ee);else if(e.selectionMode==="week"){const le=ee.week(),Q=`${ee.year()}w${le}`;a.emit("pick",{year:ee.year(),week:le,value:Q,date:ee.startOf("week")})}else if(e.selectionMode==="dates"){const le=x.selected?je(e.parsedValue).filter(Q=>Q.valueOf()!==ee.valueOf()):je(e.parsedValue).concat([ee]);a.emit("pick",le)}},_=P=>{if(e.selectionMode!=="week")return!1;let C=e.date.startOf("day");if(P.type==="prev-month"&&(C=C.subtract(1,"month")),P.type==="next-month"&&(C=C.add(1,"month")),C=C.date(Number.parseInt(P.text,10)),e.parsedValue&&!Array.isArray(e.parsedValue)){const N=(e.parsedValue.day()-t+7)%7-1;return e.parsedValue.subtract(N,"day").isSame(C,"day")}return!1};return{handleMouseMove:S,t:l,rows:u,isWeekActive:_,getCellClasses:y,WEEKS:D,handleClick:w}}}),dl={key:0};function cl(e,a,l,r,n,s){const o=q("el-date-picker-cell");return b(),O("table",{cellspacing:"0",cellpadding:"0",class:A(["el-date-table",{"is-week-mode":e.selectionMode==="week"}]),onClick:a[0]||(a[0]=(...t)=>e.handleClick&&e.handleClick(...t)),onMousemove:a[1]||(a[1]=(...t)=>e.handleMouseMove&&e.handleMouseMove(...t))},[M("tbody",null,[M("tr",null,[e.showWeekNumber?(b(),O("th",dl,ae(e.t("el.datepicker.week")),1)):te("v-if",!0),(b(!0),O(pe,null,ve(e.WEEKS,(t,f)=>(b(),O("th",{key:f},ae(e.t("el.datepicker.weeks."+t)),1))),128))]),(b(!0),O(pe,null,ve(e.rows,(t,f)=>(b(),O("tr",{key:f,class:A(["el-date-table__row",{current:e.isWeekActive(t[1])}])},[(b(!0),O(pe,null,ve(t,(i,k)=>(b(),O("td",{key:k,class:A(e.getCellClasses(i))},[I(o,{cell:i},null,8,["cell"])],2))),128))],2))),128))])],34)}var St=we(ul,[["render",cl],["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const fl=(e,a,l)=>{const r=J().locale(l).startOf("month").month(a).year(e),n=r.daysInMonth();return ut(n).map(s=>r.add(s,"day").toDate())},pl=ge({props:{disabledDate:{type:Function},selectionMode:{type:String,default:"month"},minDate:{type:Object},maxDate:{type:Object},date:{type:Object},parsedValue:{type:Object},rangeState:{type:Object,default:()=>({endDate:null,selecting:!1})}},emits:["changerange","pick","select"],setup(e,a){const{t:l,lang:r}=Ae(),n=U(e.date.locale("en").localeData().monthsShort().map(u=>u.toLowerCase())),s=U([[],[],[]]),o=U(null),t=U(null),f=v(()=>{var u;const p=s.value,Y=J().locale(r.value).startOf("month");for(let y=0;y<3;y++){const d=p[y];for(let S=0;S<4;S++){let w=d[S];w||(w={row:y,column:S,type:"normal",inRange:!1,start:!1,end:!1}),w.type="normal";const _=y*4+S,P=e.date.startOf("year").month(_),C=e.rangeState.endDate||e.maxDate||e.rangeState.selecting&&e.minDate;w.inRange=e.minDate&&P.isSameOrAfter(e.minDate,"month")&&C&&P.isSameOrBefore(C,"month")||e.minDate&&P.isSameOrBefore(e.minDate,"month")&&C&&P.isSameOrAfter(C,"month"),(u=e.minDate)!=null&&u.isSameOrAfter(C)?(w.start=C&&P.isSame(C,"month"),w.end=e.minDate&&P.isSame(e.minDate,"month")):(w.start=e.minDate&&P.isSame(e.minDate,"month"),w.end=C&&P.isSame(C,"month")),Y.isSame(P)&&(w.type="today"),w.text=_;const Z=P.toDate();w.disabled=e.disabledDate&&e.disabledDate(Z),d[S]=w}}return p});return{handleMouseMove:u=>{if(!e.rangeState.selecting)return;let p=u.target;if(p.tagName==="A"&&(p=p.parentNode.parentNode),p.tagName==="DIV"&&(p=p.parentNode),p.tagName!=="TD")return;const Y=p.parentNode.rowIndex,y=p.cellIndex;f.value[Y][y].disabled||(Y!==o.value||y!==t.value)&&(o.value=Y,t.value=y,a.emit("changerange",{selecting:!0,endDate:e.date.startOf("year").month(Y*4+y)}))},handleMonthTableClick:u=>{let p=u.target;if(p.tagName==="A"&&(p=p.parentNode.parentNode),p.tagName==="DIV"&&(p=p.parentNode),p.tagName!=="TD"||st(p,"disabled"))return;const Y=p.cellIndex,d=p.parentNode.rowIndex*4+Y,S=e.date.startOf("year").month(d);e.selectionMode==="range"?e.rangeState.selecting?(S>=e.minDate?a.emit("pick",{minDate:e.minDate,maxDate:S}):a.emit("pick",{minDate:S,maxDate:e.minDate}),a.emit("select",!1)):(a.emit("pick",{minDate:S,maxDate:null}),a.emit("select",!0)):a.emit("pick",d)},rows:f,getCellStyle:u=>{const p={},Y=e.date.year(),y=new Date,d=u.text;return p.disabled=e.disabledDate?fl(Y,d,r.value).every(e.disabledDate):!1,p.current=je(e.parsedValue).findIndex(S=>S.year()===Y&&S.month()===d)>=0,p.today=y.getFullYear()===Y&&y.getMonth()===d,u.inRange&&(p["in-range"]=!0,u.start&&(p["start-date"]=!0),u.end&&(p["end-date"]=!0)),p},t:l,months:n}}}),ml={class:"cell"};function hl(e,a,l,r,n,s){return b(),O("table",{class:"el-month-table",onClick:a[0]||(a[0]=(...o)=>e.handleMonthTableClick&&e.handleMonthTableClick(...o)),onMousemove:a[1]||(a[1]=(...o)=>e.handleMouseMove&&e.handleMouseMove(...o))},[M("tbody",null,[(b(!0),O(pe,null,ve(e.rows,(o,t)=>(b(),O("tr",{key:t},[(b(!0),O(pe,null,ve(o,(f,i)=>(b(),O("td",{key:i,class:A(e.getCellStyle(f))},[M("div",null,[M("a",ml,ae(e.t("el.datepicker.months."+e.months[f.text])),1)])],2))),128))]))),128))])],32)}var $t=we(pl,[["render",hl],["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const vl=(e,a)=>{const l=J(String(e)).locale(a).startOf("year"),n=l.endOf("year").dayOfYear();return ut(n).map(s=>l.add(s,"day").toDate())},gl=ge({props:{disabledDate:{type:Function},parsedValue:{type:Object},date:{type:Object}},emits:["pick"],setup(e,a){const{lang:l}=Ae();return{startYear:v(()=>Math.floor(e.date.year()/10)*10),getCellStyle:o=>{const t={},f=J().locale(l.value);return t.disabled=e.disabledDate?vl(o,l.value).every(e.disabledDate):!1,t.current=je(e.parsedValue).findIndex(i=>i.year()===o)>=0,t.today=f.year()===o,t},handleYearTableClick:o=>{const t=o.target;if(t.tagName==="A"){if(st(t.parentNode,"disabled"))return;const f=t.textContent||t.innerText;a.emit("pick",Number(f))}}}}}),kl={class:"cell"},bl={class:"cell"},yl={class:"cell"},Cl={class:"cell"},wl={class:"cell"},Dl={class:"cell"},Sl={class:"cell"},$l={class:"cell"},Pl={class:"cell"},Ml={class:"cell"},Vl=M("td",null,null,-1),Tl=M("td",null,null,-1);function Al(e,a,l,r,n,s){return b(),O("table",{class:"el-year-table",onClick:a[0]||(a[0]=(...o)=>e.handleYearTableClick&&e.handleYearTableClick(...o))},[M("tbody",null,[M("tr",null,[M("td",{class:A(["available",e.getCellStyle(e.startYear+0)])},[M("a",kl,ae(e.startYear),1)],2),M("td",{class:A(["available",e.getCellStyle(e.startYear+1)])},[M("a",bl,ae(e.startYear+1),1)],2),M("td",{class:A(["available",e.getCellStyle(e.startYear+2)])},[M("a",yl,ae(e.startYear+2),1)],2),M("td",{class:A(["available",e.getCellStyle(e.startYear+3)])},[M("a",Cl,ae(e.startYear+3),1)],2)]),M("tr",null,[M("td",{class:A(["available",e.getCellStyle(e.startYear+4)])},[M("a",wl,ae(e.startYear+4),1)],2),M("td",{class:A(["available",e.getCellStyle(e.startYear+5)])},[M("a",Dl,ae(e.startYear+5),1)],2),M("td",{class:A(["available",e.getCellStyle(e.startYear+6)])},[M("a",Sl,ae(e.startYear+6),1)],2),M("td",{class:A(["available",e.getCellStyle(e.startYear+7)])},[M("a",$l,ae(e.startYear+7),1)],2)]),M("tr",null,[M("td",{class:A(["available",e.getCellStyle(e.startYear+8)])},[M("a",Pl,ae(e.startYear+8),1)],2),M("td",{class:A(["available",e.getCellStyle(e.startYear+9)])},[M("a",Ml,ae(e.startYear+9),1)],2),Vl,Tl])])])}var Nl=we(gl,[["render",Al],["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const El=(e,a,l)=>!0,Il=ge({components:{DateTable:St,ElInput:ta,ElButton:Sa,ElIcon:He,TimePickPanel:ht,MonthTable:$t,YearTable:Nl,DArrowLeft:$a,ArrowLeft:Pa,DArrowRight:Ma,ArrowRight:pa},directives:{clickoutside:Da},props:{visible:{type:Boolean,default:!1},parsedValue:{type:[Object,Array]},format:{type:String,default:""},type:{type:String,required:!0,validator:ot}},emits:["pick","set-picker-option","panel-change"],setup(e,a){const{t:l,lang:r}=Ae(),n=Se("EP_PICKER_BASE"),s=Se(sn),{shortcuts:o,disabledDate:t,cellClassName:f,defaultTime:i,arrowControl:k}=n.props,D=Va(n.props,"defaultValue"),u=U(J().locale(r.value)),p=v(()=>J(i).locale(r.value)),Y=v(()=>u.value.month()),y=v(()=>u.value.year()),d=U([]),S=U(null),w=U(null),_=h=>d.value.length>0?El(h,d.value,e.format||"HH:mm:ss"):!0,P=h=>i&&!E.value?p.value.year(h.year()).month(h.month()).date(h.date()):X.value?h.millisecond(0):h.startOf("day"),C=(h,...z)=>{if(!h)a.emit("pick",h,...z);else if(Array.isArray(h)){const de=h.map(P);a.emit("pick",de,...z)}else a.emit("pick",P(h),...z);S.value=null,w.value=null},N=h=>{if(R.value==="day"){let z=e.parsedValue?e.parsedValue.year(h.year()).month(h.month()).date(h.date()):h;_(z)||(z=d.value[0][0].year(h.year()).month(h.month()).date(h.date())),u.value=z,C(z,X.value)}else R.value==="week"?C(h.date):R.value==="dates"&&C(h,!0)},Z=()=>{u.value=u.value.subtract(1,"month"),T("month")},x=()=>{u.value=u.value.add(1,"month"),T("month")},ee=()=>{Q.value==="year"?u.value=u.value.subtract(10,"year"):u.value=u.value.subtract(1,"year"),T("year")},le=()=>{Q.value==="year"?u.value=u.value.add(10,"year"):u.value=u.value.add(1,"year"),T("year")},Q=U("date"),$=v(()=>{const h=l("el.datepicker.year");if(Q.value==="year"){const z=Math.floor(y.value/10)*10;return h?`${z} ${h} - ${z+9} ${h}`:`${z} - ${z+9}`}return`${y.value} ${h}`}),W=h=>{const z=typeof h.value=="function"?h.value():h.value;if(z){C(J(z).locale(r.value));return}h.onClick&&h.onClick(a)},R=v(()=>["week","month","year","dates"].includes(e.type)?e.type:"day");he(()=>R.value,h=>{if(["month","year"].includes(h)){Q.value=h;return}Q.value="date"},{immediate:!0}),he(()=>Q.value,()=>{s==null||s.updatePopper()});const B=v(()=>!!o.length),m=h=>{u.value=u.value.startOf("month").month(h),R.value==="month"?C(u.value):Q.value="date",T("month")},g=h=>{R.value==="year"?(u.value=u.value.startOf("year").year(h),C(u.value)):(u.value=u.value.year(h),Q.value="month"),T("year")},j=()=>{Q.value="month"},K=()=>{Q.value="year"},X=v(()=>e.type==="datetime"||e.type==="datetimerange"),re=v(()=>X.value||R.value==="dates"),be=()=>{if(R.value==="dates")C(e.parsedValue);else{let h=e.parsedValue;if(!h){const z=J(i).locale(r.value),de=Le();h=z.year(de.year()).month(de.month()).date(de.date())}u.value=h,C(h)}},me=()=>{const z=J().locale(r.value).toDate();(!t||!t(z))&&_(z)&&(u.value=J().locale(r.value),C(u.value))},ye=v(()=>dt(e.format)),$e=v(()=>ct(e.format)),E=v(()=>{if(w.value)return w.value;if(!(!e.parsedValue&&!D.value))return(e.parsedValue||u.value).format(ye.value)}),se=v(()=>{if(S.value)return S.value;if(!(!e.parsedValue&&!D.value))return(e.parsedValue||u.value).format($e.value)}),H=U(!1),fe=()=>{H.value=!0},Pe=()=>{H.value=!1},Ce=(h,z,de)=>{const c=e.parsedValue?e.parsedValue.hour(h.hour()).minute(h.minute()).second(h.second()):h;u.value=c,C(u.value,!0),de||(H.value=z)},Me=h=>{const z=J(h,ye.value).locale(r.value);z.isValid()&&_(z)&&(u.value=z.year(u.value.year()).month(u.value.month()).date(u.value.date()),w.value=null,H.value=!1,C(u.value,!0))},De=h=>{const z=J(h,$e.value).locale(r.value);if(z.isValid()){if(t&&t(z.toDate()))return;u.value=z.hour(u.value.hour()).minute(u.value.minute()).second(u.value.second()),S.value=null,C(u.value,!0)}},Ne=h=>J.isDayjs(h)&&h.isValid()&&(t?!t(h.toDate()):!0),Ee=h=>R.value==="dates"?h.map(z=>z.format(e.format)):h.format(e.format),ze=h=>J(h,e.format).locale(r.value),Le=()=>{const h=J(D.value).locale(r.value);if(!D.value){const z=p.value;return J().hour(z.hour()).minute(z.minute()).second(z.second()).locale(r.value)}return h},Fe=h=>{const{code:z,keyCode:de}=h,c=[ue.up,ue.down,ue.left,ue.right];e.visible&&!H.value&&(c.includes(z)&&(V(de),h.stopPropagation(),h.preventDefault()),z===ue.enter&&S.value===null&&w.value===null&&C(u,!1))},V=h=>{const z={year:{38:-4,40:4,37:-1,39:1,offset:(c,L)=>c.setFullYear(c.getFullYear()+L)},month:{38:-4,40:4,37:-1,39:1,offset:(c,L)=>c.setMonth(c.getMonth()+L)},week:{38:-1,40:1,37:-1,39:1,offset:(c,L)=>c.setDate(c.getDate()+L*7)},day:{38:-7,40:7,37:-1,39:1,offset:(c,L)=>c.setDate(c.getDate()+L)}},de=u.value.toDate();for(;Math.abs(u.value.diff(de,"year",!0))<1;){const c=z[R.value];if(c.offset(de,c[h]),t&&t(de))continue;const L=J(de).locale(r.value);u.value=L,a.emit("pick",L,!0);break}},T=h=>{a.emit("panel-change",u.value.toDate(),h,Q.value)};return a.emit("set-picker-option",["isValidValue",Ne]),a.emit("set-picker-option",["formatToString",Ee]),a.emit("set-picker-option",["parseUserInput",ze]),a.emit("set-picker-option",["handleKeydown",Fe]),he(()=>D.value,h=>{h&&(u.value=Le())},{immediate:!0}),he(()=>e.parsedValue,h=>{if(h){if(R.value==="dates"||Array.isArray(h))return;u.value=h}else u.value=Le()},{immediate:!0}),{handleTimePick:Ce,handleTimePickClose:Pe,onTimePickerInputFocus:fe,timePickerVisible:H,visibleTime:E,visibleDate:se,showTime:X,changeToNow:me,onConfirm:be,footerVisible:re,handleYearPick:g,showMonthPicker:j,showYearPicker:K,handleMonthPick:m,hasShortcuts:B,shortcuts:o,arrowControl:k,disabledDate:t,cellClassName:f,selectionMode:R,handleShortcutClick:W,prevYear_:ee,nextYear_:le,prevMonth_:Z,nextMonth_:x,innerDate:u,t:l,yearLabel:$,currentView:Q,month:Y,handleDatePick:N,handleVisibleTimeChange:Me,handleVisibleDateChange:De,timeFormat:ye,userInputTime:w,userInputDate:S}}}),Ol={class:"el-picker-panel__body-wrapper"},Yl={key:0,class:"el-picker-panel__sidebar"},Rl=["onClick"],Ll={class:"el-picker-panel__body"},Fl={key:0,class:"el-date-picker__time-header"},Bl={class:"el-date-picker__editor-wrap"},Hl={class:"el-date-picker__editor-wrap"},zl=["aria-label"],Kl=["aria-label"],Ul=["aria-label"],jl=["aria-label"],Wl={class:"el-picker-panel__content"},ql={class:"el-picker-panel__footer"};function Gl(e,a,l,r,n,s){const o=q("el-input"),t=q("time-pick-panel"),f=q("d-arrow-left"),i=q("el-icon"),k=q("arrow-left"),D=q("d-arrow-right"),u=q("arrow-right"),p=q("date-table"),Y=q("year-table"),y=q("month-table"),d=q("el-button"),S=fa("clickoutside");return b(),O("div",{class:A(["el-picker-panel el-date-picker",[{"has-sidebar":e.$slots.sidebar||e.hasShortcuts,"has-time":e.showTime}]])},[M("div",Ol,[Re(e.$slots,"sidebar",{class:"el-picker-panel__sidebar"}),e.hasShortcuts?(b(),O("div",Yl,[(b(!0),O(pe,null,ve(e.shortcuts,(w,_)=>(b(),O("button",{key:_,type:"button",class:"el-picker-panel__shortcut",onClick:P=>e.handleShortcutClick(w)},ae(w.text),9,Rl))),128))])):te("v-if",!0),M("div",Ll,[e.showTime?(b(),O("div",Fl,[M("span",Bl,[I(o,{placeholder:e.t("el.datepicker.selectDate"),"model-value":e.visibleDate,size:"small",onInput:a[0]||(a[0]=w=>e.userInputDate=w),onChange:e.handleVisibleDateChange},null,8,["placeholder","model-value","onChange"])]),ke((b(),O("span",Hl,[I(o,{placeholder:e.t("el.datepicker.selectTime"),"model-value":e.visibleTime,size:"small",onFocus:e.onTimePickerInputFocus,onInput:a[1]||(a[1]=w=>e.userInputTime=w),onChange:e.handleVisibleTimeChange},null,8,["placeholder","model-value","onFocus","onChange"]),I(t,{visible:e.timePickerVisible,format:e.timeFormat,"time-arrow-control":e.arrowControl,"parsed-value":e.innerDate,onPick:e.handleTimePick},null,8,["visible","format","time-arrow-control","parsed-value","onPick"])])),[[S,e.handleTimePickClose]])])):te("v-if",!0),ke(M("div",{class:A(["el-date-picker__header",{"el-date-picker__header--bordered":e.currentView==="year"||e.currentView==="month"}])},[M("button",{type:"button","aria-label":e.t("el.datepicker.prevYear"),class:"el-picker-panel__icon-btn el-date-picker__prev-btn d-arrow-left",onClick:a[2]||(a[2]=(...w)=>e.prevYear_&&e.prevYear_(...w))},[I(i,null,{default:G(()=>[I(f)]),_:1})],8,zl),ke(M("button",{type:"button","aria-label":e.t("el.datepicker.prevMonth"),class:"el-picker-panel__icon-btn el-date-picker__prev-btn arrow-left",onClick:a[3]||(a[3]=(...w)=>e.prevMonth_&&e.prevMonth_(...w))},[I(i,null,{default:G(()=>[I(k)]),_:1})],8,Kl),[[Oe,e.currentView==="date"]]),M("span",{role:"button",class:"el-date-picker__header-label",onClick:a[4]||(a[4]=(...w)=>e.showYearPicker&&e.showYearPicker(...w))},ae(e.yearLabel),1),ke(M("span",{role:"button",class:A(["el-date-picker__header-label",{active:e.currentView==="month"}]),onClick:a[5]||(a[5]=(...w)=>e.showMonthPicker&&e.showMonthPicker(...w))},ae(e.t(`el.datepicker.month${e.month+1}`)),3),[[Oe,e.currentView==="date"]]),M("button",{type:"button","aria-label":e.t("el.datepicker.nextYear"),class:"el-picker-panel__icon-btn el-date-picker__next-btn d-arrow-right",onClick:a[6]||(a[6]=(...w)=>e.nextYear_&&e.nextYear_(...w))},[I(i,null,{default:G(()=>[I(D)]),_:1})],8,Ul),ke(M("button",{type:"button","aria-label":e.t("el.datepicker.nextMonth"),class:"el-picker-panel__icon-btn el-date-picker__next-btn arrow-right",onClick:a[7]||(a[7]=(...w)=>e.nextMonth_&&e.nextMonth_(...w))},[I(i,null,{default:G(()=>[I(u)]),_:1})],8,jl),[[Oe,e.currentView==="date"]])],2),[[Oe,e.currentView!=="time"]]),M("div",Wl,[e.currentView==="date"?(b(),oe(p,{key:0,"selection-mode":e.selectionMode,date:e.innerDate,"parsed-value":e.parsedValue,"disabled-date":e.disabledDate,"cell-class-name":e.cellClassName,onPick:e.handleDatePick},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name","onPick"])):te("v-if",!0),e.currentView==="year"?(b(),oe(Y,{key:1,date:e.innerDate,"disabled-date":e.disabledDate,"parsed-value":e.parsedValue,onPick:e.handleYearPick},null,8,["date","disabled-date","parsed-value","onPick"])):te("v-if",!0),e.currentView==="month"?(b(),oe(y,{key:2,date:e.innerDate,"parsed-value":e.parsedValue,"disabled-date":e.disabledDate,onPick:e.handleMonthPick},null,8,["date","parsed-value","disabled-date","onPick"])):te("v-if",!0)])])]),ke(M("div",ql,[ke(I(d,{size:"small",type:"text",class:"el-picker-panel__link-btn",onClick:e.changeToNow},{default:G(()=>[Ye(ae(e.t("el.datepicker.now")),1)]),_:1},8,["onClick"]),[[Oe,e.selectionMode!=="dates"]]),I(d,{plain:"",size:"small",class:"el-picker-panel__link-btn",onClick:e.onConfirm},{default:G(()=>[Ye(ae(e.t("el.datepicker.confirm")),1)]),_:1},8,["onClick"])],512),[[Oe,e.footerVisible&&e.currentView==="date"]])],2)}var Zl=we(Il,[["render",Gl],["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const Xl=ge({directives:{clickoutside:Da},components:{TimePickPanel:ht,DateTable:St,ElInput:ta,ElButton:Sa,ElIcon:He,DArrowLeft:$a,ArrowLeft:Pa,DArrowRight:Ma,ArrowRight:pa},props:{unlinkPanels:Boolean,parsedValue:{type:Array},type:{type:String,required:!0,validator:ot}},emits:["pick","set-picker-option","calendar-change","panel-change"],setup(e,a){const{t:l,lang:r}=Ae(),n=U(J().locale(r.value)),s=U(J().locale(r.value).add(1,"month")),o=U(null),t=U(null),f=U({min:null,max:null}),i=U({min:null,max:null}),k=v(()=>`${n.value.year()} ${l("el.datepicker.year")} ${l(`el.datepicker.month${n.value.month()+1}`)}`),D=v(()=>`${s.value.year()} ${l("el.datepicker.year")} ${l(`el.datepicker.month${s.value.month()+1}`)}`),u=v(()=>n.value.year()),p=v(()=>n.value.month()),Y=v(()=>s.value.year()),y=v(()=>s.value.month()),d=v(()=>!!de.length),S=v(()=>f.value.min!==null?f.value.min:o.value?o.value.format(N.value):""),w=v(()=>f.value.max!==null?f.value.max:t.value||o.value?(t.value||o.value).format(N.value):""),_=v(()=>i.value.min!==null?i.value.min:o.value?o.value.format(C.value):""),P=v(()=>i.value.max!==null?i.value.max:t.value||o.value?(t.value||o.value).format(C.value):""),C=v(()=>dt(ce)),N=v(()=>ct(ce)),Z=()=>{n.value=n.value.subtract(1,"year"),e.unlinkPanels||(s.value=n.value.add(1,"month")),B("year")},x=()=>{n.value=n.value.subtract(1,"month"),e.unlinkPanels||(s.value=n.value.add(1,"month")),B("month")},ee=()=>{e.unlinkPanels?s.value=s.value.add(1,"year"):(n.value=n.value.add(1,"year"),s.value=n.value.add(1,"month")),B("year")},le=()=>{e.unlinkPanels?s.value=s.value.add(1,"month"):(n.value=n.value.add(1,"month"),s.value=n.value.add(1,"month")),B("month")},Q=()=>{n.value=n.value.add(1,"year"),B("year")},$=()=>{n.value=n.value.add(1,"month"),B("month")},W=()=>{s.value=s.value.subtract(1,"year"),B("year")},R=()=>{s.value=s.value.subtract(1,"month"),B("month")},B=F=>{a.emit("panel-change",[n.value.toDate(),s.value.toDate()],F)},m=v(()=>{const F=(p.value+1)%12,ne=p.value+1>=12?1:0;return e.unlinkPanels&&new Date(u.value+ne,F)<new Date(Y.value,y.value)}),g=v(()=>e.unlinkPanels&&Y.value*12+y.value-(u.value*12+p.value+1)>=12),j=F=>Array.isArray(F)&&F[0]&&F[1]&&F[0].valueOf()<=F[1].valueOf(),K=U({endDate:null,selecting:!1}),X=v(()=>!(o.value&&t.value&&!K.value.selecting&&j([o.value,t.value]))),re=F=>{K.value=F},be=F=>{K.value.selecting=F,F||(K.value.endDate=null)},me=v(()=>e.type==="datetime"||e.type==="datetimerange"),ye=(F=!1)=>{j([o.value,t.value])&&a.emit("pick",[o.value,t.value],F)},$e=(F,ne)=>{if(!!F)return Te?J(Te[ne]||Te).locale(r.value).year(F.year()).month(F.month()).date(F.date()):F},E=(F,ne=!0)=>{const ie=F.minDate,xe=F.maxDate,na=$e(ie,0),Na=$e(xe,1);t.value===Na&&o.value===na||(a.emit("calendar-change",[ie.toDate(),xe&&xe.toDate()]),t.value=Na,o.value=na,!(!ne||me.value)&&ye())},se=F=>{const ne=typeof F.value=="function"?F.value():F.value;if(ne){a.emit("pick",[J(ne[0]).locale(r.value),J(ne[1]).locale(r.value)]);return}F.onClick&&F.onClick(a)},H=U(!1),fe=U(!1),Pe=()=>{H.value=!1},Ce=()=>{fe.value=!1},Me=(F,ne)=>{f.value[ne]=F;const ie=J(F,N.value).locale(r.value);if(ie.isValid()){if(c&&c(ie.toDate()))return;ne==="min"?(n.value=ie,o.value=(o.value||n.value).year(ie.year()).month(ie.month()).date(ie.date()),e.unlinkPanels||(s.value=ie.add(1,"month"),t.value=o.value.add(1,"month"))):(s.value=ie,t.value=(t.value||s.value).year(ie.year()).month(ie.month()).date(ie.date()),e.unlinkPanels||(n.value=ie.subtract(1,"month"),o.value=t.value.subtract(1,"month")))}},De=(F,ne)=>{f.value[ne]=null},Ne=(F,ne)=>{i.value[ne]=F;const ie=J(F,C.value).locale(r.value);ie.isValid()&&(ne==="min"?(H.value=!0,o.value=(o.value||n.value).hour(ie.hour()).minute(ie.minute()).second(ie.second()),(!t.value||t.value.isBefore(o.value))&&(t.value=o.value)):(fe.value=!0,t.value=(t.value||s.value).hour(ie.hour()).minute(ie.minute()).second(ie.second()),s.value=t.value,t.value&&t.value.isBefore(o.value)&&(o.value=t.value)))},Ee=(F,ne)=>{i.value[ne]=null,ne==="min"?(n.value=o.value,H.value=!1):(s.value=t.value,fe.value=!1)},ze=(F,ne,ie)=>{i.value.min||(F&&(n.value=F,o.value=(o.value||n.value).hour(F.hour()).minute(F.minute()).second(F.second())),ie||(H.value=ne),(!t.value||t.value.isBefore(o.value))&&(t.value=o.value,s.value=F))},Le=(F,ne,ie)=>{i.value.max||(F&&(s.value=F,t.value=(t.value||s.value).hour(F.hour()).minute(F.minute()).second(F.second())),ie||(fe.value=ne),t.value&&t.value.isBefore(o.value)&&(o.value=t.value))},Fe=()=>{n.value=h()[0],s.value=n.value.add(1,"month"),a.emit("pick",null)},V=F=>Array.isArray(F)?F.map(ne=>ne.format(ce)):F.format(ce),T=F=>Array.isArray(F)?F.map(ne=>J(ne,ce).locale(r.value)):J(F,ce).locale(r.value),h=()=>{let F;if(Array.isArray(Ge.value)){const ne=J(Ge.value[0]);let ie=J(Ge.value[1]);return e.unlinkPanels||(ie=ne.add(1,"month")),[ne,ie]}else Ge.value?F=J(Ge.value):F=J();return F=F.locale(r.value),[F,F.add(1,"month")]};a.emit("set-picker-option",["isValidValue",j]),a.emit("set-picker-option",["parseUserInput",T]),a.emit("set-picker-option",["formatToString",V]),a.emit("set-picker-option",["handleClear",Fe]);const z=Se("EP_PICKER_BASE"),{shortcuts:de,disabledDate:c,cellClassName:L,format:ce,defaultTime:Te,arrowControl:Vt,clearable:Tt}=z.props,Ge=Va(z.props,"defaultValue");return he(()=>Ge.value,F=>{if(F){const ne=h();o.value=null,t.value=null,n.value=ne[0],s.value=ne[1]}},{immediate:!0}),he(()=>e.parsedValue,F=>{if(F&&F.length===2)if(o.value=F[0],t.value=F[1],n.value=o.value,e.unlinkPanels&&t.value){const ne=o.value.year(),ie=o.value.month(),xe=t.value.year(),na=t.value.month();s.value=ne===xe&&ie===na?t.value.add(1,"month"):t.value}else s.value=n.value.add(1,"month"),t.value&&(s.value=s.value.hour(t.value.hour()).minute(t.value.minute()).second(t.value.second()));else{const ne=h();o.value=null,t.value=null,n.value=ne[0],s.value=ne[1]}},{immediate:!0}),{shortcuts:de,disabledDate:c,cellClassName:L,minTimePickerVisible:H,maxTimePickerVisible:fe,handleMinTimeClose:Pe,handleMaxTimeClose:Ce,handleShortcutClick:se,rangeState:K,minDate:o,maxDate:t,handleRangePick:E,onSelect:be,handleChangeRange:re,btnDisabled:X,enableYearArrow:g,enableMonthArrow:m,rightPrevMonth:R,rightPrevYear:W,rightNextMonth:le,rightNextYear:ee,leftPrevMonth:x,leftPrevYear:Z,leftNextMonth:$,leftNextYear:Q,hasShortcuts:d,leftLabel:k,rightLabel:D,leftDate:n,rightDate:s,showTime:me,t:l,minVisibleDate:S,maxVisibleDate:w,minVisibleTime:_,maxVisibleTime:P,arrowControl:Vt,handleDateInput:Me,handleDateChange:De,handleTimeInput:Ne,handleTimeChange:Ee,handleMinTimePick:ze,handleMaxTimePick:Le,handleClear:Fe,handleConfirm:ye,timeFormat:C,clearable:Tt}}}),Jl={class:"el-picker-panel__body-wrapper"},Ql={key:0,class:"el-picker-panel__sidebar"},_l=["onClick"],xl={class:"el-picker-panel__body"},es={key:0,class:"el-date-range-picker__time-header"},as={class:"el-date-range-picker__editors-wrap"},ts={class:"el-date-range-picker__time-picker-wrap"},ns={class:"el-date-range-picker__time-picker-wrap"},ls={class:"el-date-range-picker__editors-wrap is-right"},ss={class:"el-date-range-picker__time-picker-wrap"},os={class:"el-date-range-picker__time-picker-wrap"},rs={class:"el-picker-panel__content el-date-range-picker__content is-left"},is={class:"el-date-range-picker__header"},us=["disabled"],ds=["disabled"],cs={class:"el-picker-panel__content el-date-range-picker__content is-right"},fs={class:"el-date-range-picker__header"},ps=["disabled"],ms=["disabled"],hs={key:0,class:"el-picker-panel__footer"};function vs(e,a,l,r,n,s){const o=q("el-input"),t=q("time-pick-panel"),f=q("arrow-right"),i=q("el-icon"),k=q("d-arrow-left"),D=q("arrow-left"),u=q("d-arrow-right"),p=q("date-table"),Y=q("el-button"),y=fa("clickoutside");return b(),O("div",{class:A(["el-picker-panel el-date-range-picker",[{"has-sidebar":e.$slots.sidebar||e.hasShortcuts,"has-time":e.showTime}]])},[M("div",Jl,[Re(e.$slots,"sidebar",{class:"el-picker-panel__sidebar"}),e.hasShortcuts?(b(),O("div",Ql,[(b(!0),O(pe,null,ve(e.shortcuts,(d,S)=>(b(),O("button",{key:S,type:"button",class:"el-picker-panel__shortcut",onClick:w=>e.handleShortcutClick(d)},ae(d.text),9,_l))),128))])):te("v-if",!0),M("div",xl,[e.showTime?(b(),O("div",es,[M("span",as,[M("span",ts,[I(o,{size:"small",disabled:e.rangeState.selecting,placeholder:e.t("el.datepicker.startDate"),class:"el-date-range-picker__editor","model-value":e.minVisibleDate,onInput:a[0]||(a[0]=d=>e.handleDateInput(d,"min")),onChange:a[1]||(a[1]=d=>e.handleDateChange(d,"min"))},null,8,["disabled","placeholder","model-value"])]),ke((b(),O("span",ns,[I(o,{size:"small",class:"el-date-range-picker__editor",disabled:e.rangeState.selecting,placeholder:e.t("el.datepicker.startTime"),"model-value":e.minVisibleTime,onFocus:a[2]||(a[2]=d=>e.minTimePickerVisible=!0),onInput:a[3]||(a[3]=d=>e.handleTimeInput(d,"min")),onChange:a[4]||(a[4]=d=>e.handleTimeChange(d,"min"))},null,8,["disabled","placeholder","model-value"]),I(t,{visible:e.minTimePickerVisible,format:e.timeFormat,"datetime-role":"start","time-arrow-control":e.arrowControl,"parsed-value":e.leftDate,onPick:e.handleMinTimePick},null,8,["visible","format","time-arrow-control","parsed-value","onPick"])])),[[y,e.handleMinTimeClose]])]),M("span",null,[I(i,null,{default:G(()=>[I(f)]),_:1})]),M("span",ls,[M("span",ss,[I(o,{size:"small",class:"el-date-range-picker__editor",disabled:e.rangeState.selecting,placeholder:e.t("el.datepicker.endDate"),"model-value":e.maxVisibleDate,readonly:!e.minDate,onInput:a[5]||(a[5]=d=>e.handleDateInput(d,"max")),onChange:a[6]||(a[6]=d=>e.handleDateChange(d,"max"))},null,8,["disabled","placeholder","model-value","readonly"])]),ke((b(),O("span",os,[I(o,{size:"small",class:"el-date-range-picker__editor",disabled:e.rangeState.selecting,placeholder:e.t("el.datepicker.endTime"),"model-value":e.maxVisibleTime,readonly:!e.minDate,onFocus:a[7]||(a[7]=d=>e.minDate&&(e.maxTimePickerVisible=!0)),onInput:a[8]||(a[8]=d=>e.handleTimeInput(d,"max")),onChange:a[9]||(a[9]=d=>e.handleTimeChange(d,"max"))},null,8,["disabled","placeholder","model-value","readonly"]),I(t,{"datetime-role":"end",visible:e.maxTimePickerVisible,format:e.timeFormat,"time-arrow-control":e.arrowControl,"parsed-value":e.rightDate,onPick:e.handleMaxTimePick},null,8,["visible","format","time-arrow-control","parsed-value","onPick"])])),[[y,e.handleMaxTimeClose]])])])):te("v-if",!0),M("div",rs,[M("div",is,[M("button",{type:"button",class:"el-picker-panel__icon-btn d-arrow-left",onClick:a[10]||(a[10]=(...d)=>e.leftPrevYear&&e.leftPrevYear(...d))},[I(i,null,{default:G(()=>[I(k)]),_:1})]),M("button",{type:"button",class:"el-picker-panel__icon-btn arrow-left",onClick:a[11]||(a[11]=(...d)=>e.leftPrevMonth&&e.leftPrevMonth(...d))},[I(i,null,{default:G(()=>[I(D)]),_:1})]),e.unlinkPanels?(b(),O("button",{key:0,type:"button",disabled:!e.enableYearArrow,class:A([{"is-disabled":!e.enableYearArrow},"el-picker-panel__icon-btn d-arrow-right"]),onClick:a[12]||(a[12]=(...d)=>e.leftNextYear&&e.leftNextYear(...d))},[I(i,null,{default:G(()=>[I(u)]),_:1})],10,us)):te("v-if",!0),e.unlinkPanels?(b(),O("button",{key:1,type:"button",disabled:!e.enableMonthArrow,class:A([{"is-disabled":!e.enableMonthArrow},"el-picker-panel__icon-btn arrow-right"]),onClick:a[13]||(a[13]=(...d)=>e.leftNextMonth&&e.leftNextMonth(...d))},[I(i,null,{default:G(()=>[I(f)]),_:1})],10,ds)):te("v-if",!0),M("div",null,ae(e.leftLabel),1)]),I(p,{"selection-mode":"range",date:e.leftDate,"min-date":e.minDate,"max-date":e.maxDate,"range-state":e.rangeState,"disabled-date":e.disabledDate,"cell-class-name":e.cellClassName,onChangerange:e.handleChangeRange,onPick:e.handleRangePick,onSelect:e.onSelect},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onPick","onSelect"])]),M("div",cs,[M("div",fs,[e.unlinkPanels?(b(),O("button",{key:0,type:"button",disabled:!e.enableYearArrow,class:A([{"is-disabled":!e.enableYearArrow},"el-picker-panel__icon-btn d-arrow-left"]),onClick:a[14]||(a[14]=(...d)=>e.rightPrevYear&&e.rightPrevYear(...d))},[I(i,null,{default:G(()=>[I(k)]),_:1})],10,ps)):te("v-if",!0),e.unlinkPanels?(b(),O("button",{key:1,type:"button",disabled:!e.enableMonthArrow,class:A([{"is-disabled":!e.enableMonthArrow},"el-picker-panel__icon-btn arrow-left"]),onClick:a[15]||(a[15]=(...d)=>e.rightPrevMonth&&e.rightPrevMonth(...d))},[I(i,null,{default:G(()=>[I(D)]),_:1})],10,ms)):te("v-if",!0),M("button",{type:"button",class:"el-picker-panel__icon-btn d-arrow-right",onClick:a[16]||(a[16]=(...d)=>e.rightNextYear&&e.rightNextYear(...d))},[I(i,null,{default:G(()=>[I(u)]),_:1})]),M("button",{type:"button",class:"el-picker-panel__icon-btn arrow-right",onClick:a[17]||(a[17]=(...d)=>e.rightNextMonth&&e.rightNextMonth(...d))},[I(i,null,{default:G(()=>[I(f)]),_:1})]),M("div",null,ae(e.rightLabel),1)]),I(p,{"selection-mode":"range",date:e.rightDate,"min-date":e.minDate,"max-date":e.maxDate,"range-state":e.rangeState,"disabled-date":e.disabledDate,"cell-class-name":e.cellClassName,onChangerange:e.handleChangeRange,onPick:e.handleRangePick,onSelect:e.onSelect},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onPick","onSelect"])])])]),e.showTime?(b(),O("div",hs,[e.clearable?(b(),oe(Y,{key:0,size:"small",type:"text",class:"el-picker-panel__link-btn",onClick:e.handleClear},{default:G(()=>[Ye(ae(e.t("el.datepicker.clear")),1)]),_:1},8,["onClick"])):te("v-if",!0),I(Y,{plain:"",size:"small",class:"el-picker-panel__link-btn",disabled:e.btnDisabled,onClick:a[18]||(a[18]=d=>e.handleConfirm(!1))},{default:G(()=>[Ye(ae(e.t("el.datepicker.confirm")),1)]),_:1},8,["disabled"])])):te("v-if",!0)],2)}var gs=we(Xl,[["render",vs],["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const ks=ge({components:{MonthTable:$t,ElIcon:He,DArrowLeft:$a,DArrowRight:Ma},props:{unlinkPanels:Boolean,parsedValue:{type:Array}},emits:["pick","set-picker-option"],setup(e,a){const{t:l,lang:r}=Ae(),n=U(J().locale(r.value)),s=U(J().locale(r.value).add(1,"year")),o=v(()=>!!$.length),t=m=>{const g=typeof m.value=="function"?m.value():m.value;if(g){a.emit("pick",[J(g[0]).locale(r.value),J(g[1]).locale(r.value)]);return}m.onClick&&m.onClick(a)},f=()=>{n.value=n.value.subtract(1,"year"),e.unlinkPanels||(s.value=s.value.subtract(1,"year"))},i=()=>{e.unlinkPanels||(n.value=n.value.add(1,"year")),s.value=s.value.add(1,"year")},k=()=>{n.value=n.value.add(1,"year")},D=()=>{s.value=s.value.subtract(1,"year")},u=v(()=>`${n.value.year()} ${l("el.datepicker.year")}`),p=v(()=>`${s.value.year()} ${l("el.datepicker.year")}`),Y=v(()=>n.value.year()),y=v(()=>s.value.year()===n.value.year()?n.value.year()+1:s.value.year()),d=v(()=>e.unlinkPanels&&y.value>Y.value+1),S=U(null),w=U(null),_=U({endDate:null,selecting:!1}),P=m=>{_.value=m},C=(m,g=!0)=>{const j=m.minDate,K=m.maxDate;w.value===K&&S.value===j||(w.value=K,S.value=j,g&&Z())},N=m=>Array.isArray(m)&&m&&m[0]&&m[1]&&m[0].valueOf()<=m[1].valueOf(),Z=(m=!1)=>{N([S.value,w.value])&&a.emit("pick",[S.value,w.value],m)},x=m=>{_.value.selecting=m,m||(_.value.endDate=null)},ee=m=>m.map(g=>g.format(R)),le=()=>{let m;if(Array.isArray(B.value)){const g=J(B.value[0]);let j=J(B.value[1]);return e.unlinkPanels||(j=g.add(1,"year")),[g,j]}else B.value?m=J(B.value):m=J();return m=m.locale(r.value),[m,m.add(1,"year")]};a.emit("set-picker-option",["formatToString",ee]);const Q=Se("EP_PICKER_BASE"),{shortcuts:$,disabledDate:W,format:R}=Q.props,B=Va(Q.props,"defaultValue");return he(()=>B.value,m=>{if(m){const g=le();n.value=g[0],s.value=g[1]}},{immediate:!0}),he(()=>e.parsedValue,m=>{if(m&&m.length===2)if(S.value=m[0],w.value=m[1],n.value=S.value,e.unlinkPanels&&w.value){const g=S.value.year(),j=w.value.year();s.value=g===j?w.value.add(1,"year"):w.value}else s.value=n.value.add(1,"year");else{const g=le();S.value=null,w.value=null,n.value=g[0],s.value=g[1]}},{immediate:!0}),{shortcuts:$,disabledDate:W,onSelect:x,handleRangePick:C,rangeState:_,handleChangeRange:P,minDate:S,maxDate:w,enableYearArrow:d,leftLabel:u,rightLabel:p,leftNextYear:k,leftPrevYear:f,rightNextYear:i,rightPrevYear:D,t:l,leftDate:n,rightDate:s,hasShortcuts:o,handleShortcutClick:t}}}),bs={class:"el-picker-panel__body-wrapper"},ys={key:0,class:"el-picker-panel__sidebar"},Cs=["onClick"],ws={class:"el-picker-panel__body"},Ds={class:"el-picker-panel__content el-date-range-picker__content is-left"},Ss={class:"el-date-range-picker__header"},$s=["disabled"],Ps={class:"el-picker-panel__content el-date-range-picker__content is-right"},Ms={class:"el-date-range-picker__header"},Vs=["disabled"];function Ts(e,a,l,r,n,s){const o=q("d-arrow-left"),t=q("el-icon"),f=q("d-arrow-right"),i=q("month-table");return b(),O("div",{class:A(["el-picker-panel el-date-range-picker",[{"has-sidebar":e.$slots.sidebar||e.hasShortcuts}]])},[M("div",bs,[Re(e.$slots,"sidebar",{class:"el-picker-panel__sidebar"}),e.hasShortcuts?(b(),O("div",ys,[(b(!0),O(pe,null,ve(e.shortcuts,(k,D)=>(b(),O("button",{key:D,type:"button",class:"el-picker-panel__shortcut",onClick:u=>e.handleShortcutClick(k)},ae(k.text),9,Cs))),128))])):te("v-if",!0),M("div",ws,[M("div",Ds,[M("div",Ss,[M("button",{type:"button",class:"el-picker-panel__icon-btn d-arrow-left",onClick:a[0]||(a[0]=(...k)=>e.leftPrevYear&&e.leftPrevYear(...k))},[I(t,null,{default:G(()=>[I(o)]),_:1})]),e.unlinkPanels?(b(),O("button",{key:0,type:"button",disabled:!e.enableYearArrow,class:A([{"is-disabled":!e.enableYearArrow},"el-picker-panel__icon-btn d-arrow-right"]),onClick:a[1]||(a[1]=(...k)=>e.leftNextYear&&e.leftNextYear(...k))},[I(t,null,{default:G(()=>[I(f)]),_:1})],10,$s)):te("v-if",!0),M("div",null,ae(e.leftLabel),1)]),I(i,{"selection-mode":"range",date:e.leftDate,"min-date":e.minDate,"max-date":e.maxDate,"range-state":e.rangeState,"disabled-date":e.disabledDate,onChangerange:e.handleChangeRange,onPick:e.handleRangePick,onSelect:e.onSelect},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onPick","onSelect"])]),M("div",Ps,[M("div",Ms,[e.unlinkPanels?(b(),O("button",{key:0,type:"button",disabled:!e.enableYearArrow,class:A([{"is-disabled":!e.enableYearArrow},"el-picker-panel__icon-btn d-arrow-left"]),onClick:a[2]||(a[2]=(...k)=>e.rightPrevYear&&e.rightPrevYear(...k))},[I(t,null,{default:G(()=>[I(o)]),_:1})],10,Vs)):te("v-if",!0),M("button",{type:"button",class:"el-picker-panel__icon-btn d-arrow-right",onClick:a[3]||(a[3]=(...k)=>e.rightNextYear&&e.rightNextYear(...k))},[I(t,null,{default:G(()=>[I(f)]),_:1})]),M("div",null,ae(e.rightLabel),1)]),I(i,{"selection-mode":"range",date:e.rightDate,"min-date":e.minDate,"max-date":e.maxDate,"range-state":e.rangeState,"disabled-date":e.disabledDate,onChangerange:e.handleChangeRange,onPick:e.handleRangePick,onSelect:e.onSelect},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onPick","onSelect"])])])])],2)}var As=we(ks,[["render",Ts],["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);J.extend(dn);J.extend(tl);J.extend(fn);J.extend(nl);J.extend(ll);J.extend(sl);J.extend(ol);J.extend(rl);const Ns=function(e){return e==="daterange"||e==="datetimerange"?gs:e==="monthrange"?As:Zl};var Es=ge({name:"ElDatePicker",install:null,props:Ke(Ie({},pt),{type:{type:String,default:"date"}}),emits:["update:modelValue"],setup(e,a){ca("ElPopperOptions",e.popperOptions),ca(Dt,{ctx:a});const l=U(null),r=Ke(Ie({},e),{focus:(n=!0)=>{var s;(s=l.value)==null||s.focus(n)}});return a.expose(r),()=>{var n;const s=(n=e.format)!=null?n:pn[e.type]||ea;return We(kn,Ke(Ie({},e),{format:s,type:e.type,ref:l,"onUpdate:modelValue":o=>a.emit("update:modelValue",o)}),{default:o=>We(Ns(e.type),o),"range-separator":()=>Re(a.slots,"range-separator")})}}});const ia=Es;ia.install=e=>{e.component(ia.name,ia)};const xs=ia,ka="checked-change",Is={data:{type:Array,default(){return[]}},optionRender:Function,placeholder:String,title:String,filterable:Boolean,format:Object,filterMethod:Function,defaultChecked:Array,props:Object},Os=(e,a)=>{const{emit:l}=tt(),r=v(()=>e.props.label||"label"),n=v(()=>e.props.key||"key"),s=v(()=>e.props.disabled||"disabled"),o=v(()=>e.data.filter(u=>typeof e.filterMethod=="function"?e.filterMethod(a.query,u):(u[r.value]||u[n.value].toString()).toLowerCase().includes(a.query.toLowerCase()))),t=v(()=>o.value.filter(u=>!u[s.value])),f=v(()=>{const u=a.checked.length,p=e.data.length,{noChecked:Y,hasChecked:y}=e.format;return Y&&y?u>0?y.replace(/\${checked}/g,u.toString()).replace(/\${total}/g,p.toString()):Y.replace(/\${total}/g,p.toString()):`${u}/${p}`}),i=v(()=>{const u=a.checked.length;return u>0&&u<t.value.length}),k=()=>{const u=t.value.map(p=>p[n.value]);a.allChecked=u.length>0&&u.every(p=>a.checked.includes(p))},D=u=>{a.checked=u?t.value.map(p=>p[n.value]):[]};return he(()=>a.checked,(u,p)=>{if(k(),a.checkChangeByUser){const Y=u.concat(p).filter(y=>!u.includes(y)||!p.includes(y));l(ka,u,Y)}else l(ka,u),a.checkChangeByUser=!0}),he(t,()=>{k()}),he(()=>e.data,()=>{const u=[],p=o.value.map(Y=>Y[n.value]);a.checked.forEach(Y=>{p.includes(Y)&&u.push(Y)}),a.checkChangeByUser=!1,a.checked=u}),he(()=>e.defaultChecked,(u,p)=>{if(p&&u.length===p.length&&u.every(d=>p.includes(d)))return;const Y=[],y=t.value.map(d=>d[n.value]);u.forEach(d=>{y.includes(d)&&Y.push(d)}),a.checkChangeByUser=!1,a.checked=Y},{immediate:!0}),{labelProp:r,keyProp:n,disabledProp:s,filteredData:o,checkableData:t,checkedSummary:f,isIndeterminate:i,updateAllChecked:k,handleAllCheckedChange:D}},Ys=ge({name:"ElTransferPanel",components:{ElCheckboxGroup:rn,ElCheckbox:it,ElInput:ta,OptionContent:({option:e})=>e},props:Is,emits:[ka],setup(e,{slots:a}){const{t:l}=Ae(),r=Ve("transfer"),n=wa({checked:[],allChecked:!1,query:"",inputHover:!1,checkChangeByUser:!0}),{labelProp:s,keyProp:o,disabledProp:t,filteredData:f,checkedSummary:i,isIndeterminate:k,handleAllCheckedChange:D}=Os(e,n),u=v(()=>n.query.length>0&&f.value.length===0),p=v(()=>!!a.default()[0].children.length),{checked:Y,allChecked:y,query:d,inputHover:S,checkChangeByUser:w}=rt(n);return{ns:r,labelProp:s,keyProp:o,disabledProp:t,filteredData:f,checkedSummary:i,isIndeterminate:k,handleAllCheckedChange:D,checked:Y,allChecked:y,query:d,inputHover:S,checkChangeByUser:w,hasNoMatch:u,SearchIcon:on,hasFooter:p,t:l}}});function Rs(e,a,l,r,n,s){const o=q("el-checkbox"),t=q("el-input"),f=q("option-content"),i=q("el-checkbox-group");return b(),O("div",{class:A(e.ns.b("panel"))},[M("p",{class:A(e.ns.be("panel","header"))},[I(o,{modelValue:e.allChecked,"onUpdate:modelValue":a[0]||(a[0]=k=>e.allChecked=k),indeterminate:e.isIndeterminate,onChange:e.handleAllCheckedChange},{default:G(()=>[Ye(ae(e.title)+" ",1),M("span",null,ae(e.checkedSummary),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),M("div",{class:A([e.ns.be("panel","body"),e.ns.is("with-footer",e.hasFooter)])},[e.filterable?(b(),oe(t,{key:0,modelValue:e.query,"onUpdate:modelValue":a[1]||(a[1]=k=>e.query=k),class:A(e.ns.be("panel","filter")),size:"default",placeholder:e.placeholder,"prefix-icon":e.SearchIcon,clearable:"",onMouseenter:a[2]||(a[2]=k=>e.inputHover=!0),onMouseleave:a[3]||(a[3]=k=>e.inputHover=!1)},null,8,["modelValue","class","placeholder","prefix-icon"])):te("v-if",!0),ke(I(i,{modelValue:e.checked,"onUpdate:modelValue":a[4]||(a[4]=k=>e.checked=k),class:A([e.ns.is("filterable",e.filterable),e.ns.be("panel","list")])},{default:G(()=>[(b(!0),O(pe,null,ve(e.filteredData,k=>(b(),oe(o,{key:k[e.keyProp],class:A(e.ns.be("panel","item")),label:k[e.keyProp],disabled:k[e.disabledProp]},{default:G(()=>[I(f,{option:e.optionRender(k)},null,8,["option"])]),_:2},1032,["class","label","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[Oe,!e.hasNoMatch&&e.data.length>0]]),ke(M("p",{class:A(e.ns.be("panel","empty"))},ae(e.hasNoMatch?e.t("el.transfer.noMatch"):e.t("el.transfer.noData")),3),[[Oe,e.hasNoMatch||e.data.length===0]])],2),e.hasFooter?(b(),O("p",{key:0,class:A(e.ns.be("panel","footer"))},[Re(e.$slots,"default")],2)):te("v-if",!0)],2)}var Ls=we(Ys,[["render",Rs],["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer-panel.vue"]]);const Fs=e=>{const a=v(()=>e.props.key),l=v(()=>e.data.reduce((s,o)=>(s[o[a.value]]=o)&&s,{})),r=v(()=>e.data.filter(s=>!e.modelValue.includes(s[a.value]))),n=v(()=>e.targetOrder==="original"?e.data.filter(s=>e.modelValue.includes(s[a.value])):e.modelValue.reduce((s,o)=>{const t=l.value[o];return t&&s.push(t),s},[]));return{propsKey:a,sourceData:r,targetData:n}},Pt="left-check-change",Mt="right-check-change",Bs=(e,a)=>({onSourceCheckedChange:(n,s)=>{e.leftChecked=n,s!==void 0&&a(Pt,n,s)},onTargetCheckedChange:(n,s)=>{e.rightChecked=n,s!==void 0&&a(Mt,n,s)}}),Hs=(e,a,l,r)=>{const n=(t,f,i)=>{r(Je,t),r(Qe,t,f,i)};return{addToLeft:()=>{const t=e.modelValue.slice();a.rightChecked.forEach(f=>{const i=t.indexOf(f);i>-1&&t.splice(i,1)}),n(t,"left",a.rightChecked)},addToRight:()=>{let t=e.modelValue.slice();const f=e.data.filter(i=>{const k=i[l.value];return a.leftChecked.includes(k)&&!e.modelValue.includes(k)}).map(i=>i[l.value]);t=e.targetOrder==="unshift"?f.concat(t):t.concat(f),e.targetOrder==="original"&&(t=e.data.filter(i=>t.includes(i[l.value])).map(i=>i[l.value])),n(t,"right",a.leftChecked)}}},zs=ge({name:"ElTransfer",components:{TransferPanel:Ls,ElButton:Sa,ElIcon:He,ArrowLeft:Pa,ArrowRight:pa},props:{data:{type:Array,default:()=>[]},titles:{type:Array,default:()=>[]},buttonTexts:{type:Array,default:()=>[]},filterPlaceholder:{type:String,default:""},filterMethod:Function,leftDefaultChecked:{type:Array,default:()=>[]},rightDefaultChecked:{type:Array,default:()=>[]},renderContent:Function,modelValue:{type:Array,default:()=>[]},format:{type:Object,default:()=>({})},filterable:{type:Boolean,default:!1},props:{type:Object,default:()=>({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,default:"original",validator:e=>["original","push","unshift"].includes(e)}},emits:[Je,Qe,Pt,Mt],setup(e,{emit:a,slots:l}){const{t:r}=Ae(),n=Ve("transfer"),s=Se(ba,{}),o=wa({leftChecked:[],rightChecked:[]}),{propsKey:t,sourceData:f,targetData:i}=Fs(e),{onSourceCheckedChange:k,onTargetCheckedChange:D}=Bs(o,a),{addToLeft:u,addToRight:p}=Hs(e,o,t,a),Y=U(),y=U(),d=N=>{switch(N){case"left":Y.value.query="";break;case"right":y.value.query="";break}},S=v(()=>e.buttonTexts.length===2),w=v(()=>e.titles[0]||r("el.transfer.titles.0")),_=v(()=>e.titles[1]||r("el.transfer.titles.1")),P=v(()=>e.filterPlaceholder||r("el.transfer.filterPlaceholder"));he(()=>e.modelValue,()=>{var N;(N=s.validate)==null||N.call(s,"change").catch(Z=>da())});const C=v(()=>N=>e.renderContent?e.renderContent(We,N):l.default?l.default({option:N}):We("span",N[e.props.label]||N[e.props.key]));return Ke(Ie({ns:n,sourceData:f,targetData:i,onSourceCheckedChange:k,onTargetCheckedChange:D,addToLeft:u,addToRight:p},rt(o)),{hasButtonTexts:S,leftPanelTitle:w,rightPanelTitle:_,panelFilterPlaceholder:P,clearQuery:d,leftPanel:Y,rightPanel:y,optionRender:C})}}),Ks={key:0},Us={key:0};function js(e,a,l,r,n,s){const o=q("transfer-panel"),t=q("arrow-left"),f=q("el-icon"),i=q("el-button"),k=q("arrow-right");return b(),O("div",{class:A(e.ns.b())},[I(o,{ref:"leftPanel",data:e.sourceData,"option-render":e.optionRender,placeholder:e.panelFilterPlaceholder,title:e.leftPanelTitle,filterable:e.filterable,format:e.format,"filter-method":e.filterMethod,"default-checked":e.leftDefaultChecked,props:e.props,onCheckedChange:e.onSourceCheckedChange},{default:G(()=>[Re(e.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),M("div",{class:A(e.ns.e("buttons"))},[I(i,{type:"primary",class:A([e.ns.e("button"),e.ns.is("with-texts",e.hasButtonTexts)]),disabled:e.rightChecked.length===0,onClick:e.addToLeft},{default:G(()=>[I(f,null,{default:G(()=>[I(t)]),_:1}),e.buttonTexts[0]!==void 0?(b(),O("span",Ks,ae(e.buttonTexts[0]),1)):te("v-if",!0)]),_:1},8,["class","disabled","onClick"]),I(i,{type:"primary",class:A([e.ns.e("button"),e.ns.is("with-texts",e.hasButtonTexts)]),disabled:e.leftChecked.length===0,onClick:e.addToRight},{default:G(()=>[e.buttonTexts[1]!==void 0?(b(),O("span",Us,ae(e.buttonTexts[1]),1)):te("v-if",!0),I(f,null,{default:G(()=>[I(k)]),_:1})]),_:1},8,["class","disabled","onClick"])],2),I(o,{ref:"rightPanel",data:e.targetData,"option-render":e.optionRender,placeholder:e.panelFilterPlaceholder,filterable:e.filterable,format:e.format,"filter-method":e.filterMethod,title:e.rightPanelTitle,"default-checked":e.rightDefaultChecked,props:e.props,onCheckedChange:e.onTargetCheckedChange},{default:G(()=>[Re(e.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2)}var ua=we(zs,[["render",js],["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/index.vue"]]);ua.install=e=>{e.component(ua.name,ua)};const Ws=ua,eo=Ws;export{kn as C,Fa as D,_s as E,$n as T,ht as a,xs as b,fn as c,eo as d,bn as g,pt as t,yn as u};
