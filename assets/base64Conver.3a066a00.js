function u(i){const t=i.split(","),e=t[0].match(/:(.*?);/)[1],n=window.atob(t[1]);let a=n.length;const o=new Uint8Array(a);for(;a--;)o[a]=n.charCodeAt(a);return new Blob([o],{type:e})}function m(i,t){return new Promise((r,e)=>{let n=document.createElement("CANVAS");const a=n.getContext("2d"),o=new Image;o.crossOrigin="",o.onload=function(){if(!n||!a)return e();n.height=o.height,n.width=o.width,a.drawImage(o,0,0);const c=n.toDataURL(t||"image/png");n=null,r(c)},o.src=i})}function s(i){const t=document.createElement("canvas"),r=t.getContext("2d"),e=new Image;return e.crossOrigin="anonymous",e.src=i,new Promise((n,a)=>{e.onload=function(){if(!t||!r)return a();t.width=e.width,t.height=e.height,r.drawImage(e,0,0),t.toBlob(o=>{n(o)},"image/png",1)}})}async function g(i){const t=await s(i);return new Promise((r,e)=>{if(t){const n=new ClipboardItem({"image/png":t});navigator.clipboard.write([n]),r("\u590D\u5236\u6210\u529F")}e("\u590D\u5236\u5931\u8D25")})}export{g as c,u as d,m as u};
