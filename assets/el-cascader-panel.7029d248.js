var Tn=Object.defineProperty,wn=Object.defineProperties;var Vn=Object.getOwnPropertyDescriptors;var qe=Object.getOwnPropertySymbols;var Pn=Object.prototype.hasOwnProperty,Dn=Object.prototype.propertyIsEnumerable;var Ue=(e,n,a)=>n in e?Tn(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a,te=(e,n)=>{for(var a in n||(n={}))Pn.call(n,a)&&Ue(e,a,n[a]);if(qe)for(var a of qe(n))Dn.call(n,a)&&Ue(e,a,n[a]);return e},ve=(e,n)=>wn(e,Vn(n));import{e as se,u as ae,a2 as Le,m as Te,a3 as Ye,a4 as _e,a5 as xe,$ as ke,v as m,x as he,r as w,o as k,c as A,A as W,g as K,a6 as ge,w as S,b as H,y as N,F as le,a as x,a7 as en,a8 as we,f as I,a9 as Sn,B as de,h as nn,t as J,aa as an,ab as Me,ac as je,ad as Ln,ae as Ge,af as me,ag as Mn,ah as In,ai as ue,aj as ce,ak as An,W as He,D as X,al as Hn,am as tn,an as Bn,ao as re,ap as ln,aq as Fn,ar as O,as as Ce,at as sn,L as on,au as zn,av as On,s as Kn,aw as Rn,ax as qn,ay as Un,az as jn,aA as Gn,aB as Wn,aC as Zn,aD as rn,aE as Qn,aF as dn,aG as Jn,aH as Xn,aI as Yn,aJ as _n,aK as xn,aL as ea,aM as na,aN as ie,aO as aa,aP as ta,Q as la,aQ as Ne,I as $e,C as un,aR as sa,E as oa,aS as ra}from"./index.da4c6fdc.js";import{E as cn,a as ia}from"./el-checkbox.27605db2.js";import{E as da}from"./index.71dd07a1.js";import{u as We,a as Ze}from"./index.7f4d56fe.js";var ua=se({name:"NodeContent",setup(){return{ns:ae("cascader-node")}},render(){const{ns:e}=this,{node:n,panel:a}=this.$parent,{data:l,label:t}=n,{renderLabelFn:o}=a;return Le("span",{class:e.e("label")},o?o({node:n,data:l}):t)}});const Be=Symbol(),ca=se({name:"ElCascaderNode",components:{ElCheckbox:cn,ElRadio:da,NodeContent:ua,ElIcon:Te,Check:Ye,Loading:_e,ArrowRight:xe},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:n}){const a=ke(Be),l=ae("cascader-node"),t=m(()=>a.isHoverMenu),o=m(()=>a.config.multiple),r=m(()=>a.config.checkStrictly),d=m(()=>{var C;return(C=a.checkedNodes[0])==null?void 0:C.uid}),v=m(()=>e.node.isDisabled),p=m(()=>e.node.isLeaf),h=m(()=>r.value&&!p.value||!v.value),$=m(()=>g(a.expandingNode)),f=m(()=>r.value&&a.checkedNodes.some(g)),g=C=>{var F;const{level:Z,uid:fe}=e.node;return((F=C==null?void 0:C.pathNodes[Z-1])==null?void 0:F.uid)===fe},b=()=>{$.value||a.expandNode(e.node)},V=C=>{const{node:F}=e;C!==F.checked&&a.handleCheckChange(F,C)},i=()=>{a.lazyLoad(e.node,()=>{p.value||b()})},P=C=>{!t.value||(B(),!p.value&&n("expand",C))},B=()=>{const{node:C}=e;!h.value||C.loading||(C.loaded?b():i())},R=()=>{t.value&&!p.value||(p.value&&!v.value&&!r.value&&!o.value?U(!0):B())},q=C=>{r.value?(V(C),e.node.loaded&&b()):U(C)},U=C=>{e.node.loaded?(V(C),!r.value&&b()):i()};return{panel:a,isHoverMenu:t,multiple:o,checkStrictly:r,checkedNodeId:d,isDisabled:v,isLeaf:p,expandable:h,inExpandingPath:$,inCheckedPath:f,ns:l,handleHoverExpand:P,handleExpand:B,handleClick:R,handleCheck:U,handleSelectCheck:q}}}),pa=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],ha=x("span",null,null,-1);function fa(e,n,a,l,t,o){const r=w("el-checkbox"),d=w("el-radio"),v=w("check"),p=w("el-icon"),h=w("node-content"),$=w("loading"),f=w("arrow-right");return k(),A("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:N([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:n[2]||(n[2]=(...g)=>e.handleHoverExpand&&e.handleHoverExpand(...g)),onFocus:n[3]||(n[3]=(...g)=>e.handleHoverExpand&&e.handleHoverExpand(...g)),onClick:n[4]||(n[4]=(...g)=>e.handleClick&&e.handleClick(...g))},[W(" prefix "),e.multiple?(k(),K(r,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:n[0]||(n[0]=ge(()=>{},["stop"])),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):e.checkStrictly?(k(),K(d,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:n[1]||(n[1]=ge(()=>{},["stop"]))},{default:S(()=>[W(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),ha]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):e.isLeaf&&e.node.checked?(k(),K(p,{key:2,class:N(e.ns.e("prefix"))},{default:S(()=>[H(v)]),_:1},8,["class"])):W("v-if",!0),W(" content "),H(h),W(" postfix "),e.isLeaf?W("v-if",!0):(k(),A(le,{key:3},[e.node.loading?(k(),K(p,{key:0,class:N([e.ns.is("loading"),e.ns.e("postfix")])},{default:S(()=>[H($)]),_:1},8,["class"])):(k(),K(p,{key:1,class:N(["arrow-right",e.ns.e("postfix")])},{default:S(()=>[H(f)]),_:1},8,["class"]))],2112))],42,pa)}var va=he(ca,[["render",fa],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/node.vue"]]);const ga=se({name:"ElCascaderMenu",components:{Loading:_e,ElIcon:Te,ElScrollbar:en,ElCascaderNode:va},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const n=an(),a=ae("cascader-menu"),{t:l}=we(),t=Sn();let o=null,r=null;const d=ke(Be),v=I(null),p=m(()=>!e.nodes.length),h=m(()=>!d.initialLoaded),$=m(()=>`cascader-menu-${t}-${e.index}`),f=i=>{o=i.target},g=i=>{if(!(!d.isHoverMenu||!o||!v.value))if(o.contains(i.target)){b();const P=n.vnode.el,{left:B}=P.getBoundingClientRect(),{offsetWidth:R,offsetHeight:q}=P,U=i.clientX-B,C=o.offsetTop,F=C+o.offsetHeight;v.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${U} ${C} L${R} 0 V${C} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${U} ${F} L${R} ${q} V${F} Z" />
        `}else r||(r=window.setTimeout(V,d.config.hoverThreshold))},b=()=>{!r||(clearTimeout(r),r=null)},V=()=>{!v.value||(v.value.innerHTML="",b())};return{ns:a,panel:d,hoverZone:v,isEmpty:p,isLoading:h,menuId:$,t:l,handleExpand:f,handleMouseMove:g,clearHoverZone:V}}});function ma(e,n,a,l,t,o){const r=w("el-cascader-node"),d=w("loading"),v=w("el-icon"),p=w("el-scrollbar");return k(),K(p,{key:e.menuId,tag:"ul",role:"menu",class:N(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:S(()=>{var h;return[(k(!0),A(le,null,de(e.nodes,$=>(k(),K(r,{key:$.uid,node:$,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),e.isLoading?(k(),A("div",{key:0,class:N(e.ns.e("empty-text"))},[H(v,{size:"14",class:N(e.ns.is("loading"))},{default:S(()=>[H(d)]),_:1},8,["class"]),nn(" "+J(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(k(),A("div",{key:1,class:N(e.ns.e("empty-text"))},J(e.t("el.cascader.noData")),3)):(h=e.panel)!=null&&h.isHoverMenu?(k(),A("svg",{key:2,ref:"hoverZone",class:N(e.ns.e("hover-zone"))},null,2)):W("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var ka=he(ga,[["render",ma],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/menu.vue"]]),Fe=(e=>(e.CLICK="click",e.HOVER="hover",e))(Fe||{});let Ca=0;const ba=e=>{const n=[e];let{parent:a}=e;for(;a;)n.unshift(a),a=a.parent;return n};class pe{constructor(n,a,l,t=!1){this.data=n,this.config=a,this.parent=l,this.root=t,this.uid=Ca++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:o,label:r,children:d}=a,v=n[d],p=ba(this);this.level=t?0:l?l.level+1:1,this.value=n[o],this.label=n[r],this.pathNodes=p,this.pathValues=p.map(h=>h.value),this.pathLabels=p.map(h=>h.label),this.childrenData=v,this.children=(v||[]).map(h=>new pe(h,a,this)),this.loaded=!a.lazy||this.isLeaf||!Me(v)}get isDisabled(){const{data:n,parent:a,config:l}=this,{disabled:t,checkStrictly:o}=l;return(je(t)?t(n,this):!!n[t])||!o&&(a==null?void 0:a.isDisabled)}get isLeaf(){const{data:n,config:a,childrenData:l,loaded:t}=this,{lazy:o,leaf:r}=a,d=je(r)?r(n,this):n[r];return Ln(d)?o&&!t?!1:!(Array.isArray(l)&&l.length):!!d}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(n){const{childrenData:a,children:l}=this,t=new pe(n,this.config,this);return Array.isArray(a)?a.push(n):this.childrenData=[n],l.push(t),t}calcText(n,a){const l=n?this.pathLabels.join(a):this.label;return this.text=l,l}broadcast(n,...a){const l=`onParent${Ge(n)}`;this.children.forEach(t=>{t&&(t.broadcast(n,...a),t[l]&&t[l](...a))})}emit(n,...a){const{parent:l}=this,t=`onChild${Ge(n)}`;l&&(l[t]&&l[t](...a),l.emit(n,...a))}onParentCheck(n){this.isDisabled||this.setCheckState(n)}onChildCheck(){const{children:n}=this,a=n.filter(t=>!t.isDisabled),l=a.length?a.every(t=>t.checked):!1;this.setCheckState(l)}setCheckState(n){const a=this.children.length,l=this.children.reduce((t,o)=>{const r=o.checked?1:o.indeterminate?.5:0;return t+r},0);this.checked=this.loaded&&this.children.every(t=>t.loaded&&t.checked)&&n,this.indeterminate=this.loaded&&l!==a&&l>0}doCheck(n){if(this.checked===n)return;const{checkStrictly:a,multiple:l}=this.config;a||!l?this.checked=n:(this.broadcast("check",n),this.setCheckState(n),this.emit("check"))}}const Ie=(e,n)=>e.reduce((a,l)=>(l.isLeaf?a.push(l):(!n&&a.push(l),a=a.concat(Ie(l.children,n))),a),[]);class Qe{constructor(n,a){this.config=a;const l=(n||[]).map(t=>new pe(t,this.config));this.nodes=l,this.allNodes=Ie(l,!1),this.leafNodes=Ie(l,!0)}getNodes(){return this.nodes}getFlattedNodes(n){return n?this.leafNodes:this.allNodes}appendNode(n,a){const l=a?a.appendChild(n):new pe(n,this.config);a||this.nodes.push(l),this.allNodes.push(l),l.isLeaf&&this.leafNodes.push(l)}appendNodes(n,a){n.forEach(l=>this.appendNode(l,a))}getNodeByValue(n,a=!1){return!n&&n!==0?null:this.getFlattedNodes(a).find(t=>me(t.value,n)||me(t.pathValues,n))||null}getSameNode(n){return n&&this.getFlattedNodes(!1).find(({value:l,level:t})=>me(n.value,l)&&n.level===t)||null}}const pn={modelValue:[Number,String,Array],options:{type:Array,default:()=>[]},props:{type:Object,default:()=>({})}},ya={expandTrigger:Fe.CLICK,multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:Mn,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},Ea=e=>m(()=>te(te({},ya),e.props)),Je=e=>{if(!e)return 0;const n=e.id.split("-");return Number(n[n.length-2])},Na=e=>{if(!e)return;const n=e.querySelector("input");n?n.click():In(e)&&e.click()},$a=(e,n)=>{const a=n.slice(0),l=a.map(o=>o.uid),t=e.reduce((o,r)=>{const d=l.indexOf(r.uid);return d>-1&&(o.push(r),a.splice(d,1),l.splice(d,1)),o},[]);return t.push(...a),t},Ta=se({name:"ElCascaderPanel",components:{ElCascaderMenu:ka},props:ve(te({},pn),{border:{type:Boolean,default:!0},renderLabel:Function}),emits:[ue,ce,"close","expand-change"],setup(e,{emit:n,slots:a}){let l=!1;const t=ae("cascader"),o=Ea(e);let r=null;const d=I(!0),v=I([]),p=I(null),h=I([]),$=I(null),f=I([]),g=m(()=>o.value.expandTrigger===Fe.HOVER),b=m(()=>e.renderLabel||a.default),V=()=>{const{options:u}=e,y=o.value;l=!1,r=new Qe(u,y),h.value=[r.getNodes()],y.lazy&&Me(e.options)?(d.value=!1,i(void 0,E=>{E&&(r=new Qe(E,y),h.value=[r.getNodes()]),d.value=!0,Z(!1,!0)})):Z(!1,!0)},i=(u,y)=>{const E=o.value;u=u||new pe({},E,void 0,!0),u.loading=!0;const D=M=>{const L=u,Y=L.root?null:L;M&&(r==null||r.appendNodes(M,Y)),L.loading=!1,L.loaded=!0,L.childrenData=L.childrenData||[],y&&y(M)};E.lazyLoad(u,D)},P=(u,y)=>{var E;const{level:D}=u,M=h.value.slice(0,D);let L;u.isLeaf?L=u.pathNodes[D-2]:(L=u,M.push(u.children)),((E=$.value)==null?void 0:E.uid)!==(L==null?void 0:L.uid)&&($.value=u,h.value=M,!y&&n("expand-change",(u==null?void 0:u.pathValues)||[]))},B=(u,y,E=!0)=>{const{checkStrictly:D,multiple:M}=o.value,L=f.value[0];l=!0,!M&&(L==null||L.doCheck(!1)),u.doCheck(y),F(),E&&!M&&!D&&n("close"),!E&&!M&&!D&&R(u)},R=u=>{!u||(u=u.parent,R(u),u&&P(u))},q=u=>r==null?void 0:r.getFlattedNodes(u),U=u=>{var y;return(y=q(u))==null?void 0:y.filter(E=>E.checked!==!1)},C=()=>{f.value.forEach(u=>u.doCheck(!1)),F()},F=()=>{var u;const{checkStrictly:y,multiple:E}=o.value,D=f.value,M=U(!y),L=$a(D,M),Y=L.map(j=>j.valueByOption);f.value=L,p.value=E?Y:(u=Y[0])!=null?u:null},Z=(u=!1,y=!1)=>{const{modelValue:E}=e,{lazy:D,multiple:M,checkStrictly:L}=o.value,Y=!L;if(!(!d.value||l||!y&&me(E,p.value)))if(D&&!u){const Q=We(Bn(Ze(E))).map(G=>r==null?void 0:r.getNodeByValue(G)).filter(G=>!!G&&!G.loaded&&!G.loading);Q.length?Q.forEach(G=>{i(G,()=>Z(!1,y))}):Z(!0,y)}else{const j=M?Ze(E):[E],Q=We(j.map(G=>r==null?void 0:r.getNodeByValue(G,Y)));fe(Q,!1),p.value=E}},fe=(u,y=!0)=>{const{checkStrictly:E}=o.value,D=f.value,M=u.filter(j=>!!j&&(E||j.isLeaf)),L=r==null?void 0:r.getSameNode($.value),Y=y&&L||M[0];Y?Y.pathNodes.forEach(j=>P(j,!0)):$.value=null,D.forEach(j=>j.doCheck(!1)),M.forEach(j=>j.doCheck(!0)),f.value=M,re(oe)},oe=()=>{!ln||v.value.forEach(u=>{const y=u==null?void 0:u.$el;if(y){const E=y.querySelector(`.${t.namespace.value}-scrollbar__wrap`),D=y.querySelector(`.${t.b("node")}.${t.is("active")}`)||y.querySelector(`.${t.b("node")}.in-active-path`);Fn(E,D)}})},Ve=u=>{const y=u.target,{code:E}=u;switch(E){case O.up:case O.down:{u.preventDefault();const D=E===O.up?-1:1;Ce(sn(y,D,`.${t.b("node")}[tabindex="-1"]`));break}case O.left:{u.preventDefault();const D=v.value[Je(y)-1],M=D==null?void 0:D.$el.querySelector(`.${t.b("node")}[aria-expanded="true"]`);Ce(M);break}case O.right:{u.preventDefault();const D=v.value[Je(y)+1],M=D==null?void 0:D.$el.querySelector(`.${t.b("node")}[tabindex="-1"]`);Ce(M);break}case O.enter:Na(y);break;case O.esc:case O.tab:n("close");break}};return An(Be,He({config:o,expandingNode:$,checkedNodes:f,isHoverMenu:g,initialLoaded:d,renderLabelFn:b,lazyLoad:i,expandNode:P,handleCheckChange:B})),X([o,()=>e.options],V,{deep:!0,immediate:!0}),X(()=>e.modelValue,()=>{l=!1,Z()}),X(p,u=>{me(u,e.modelValue)||(n(ue,u),n(ce,u))}),Hn(()=>v.value=[]),tn(()=>!Me(e.modelValue)&&Z()),{ns:t,menuList:v,menus:h,checkedNodes:f,handleKeyDown:Ve,handleCheckChange:B,getFlattedNodes:q,getCheckedNodes:U,clearCheckedNodes:C,calculateCheckedValue:F,scrollToExpandingNode:oe}}});function wa(e,n,a,l,t,o){const r=w("el-cascader-menu");return k(),A("div",{class:N([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:n[0]||(n[0]=(...d)=>e.handleKeyDown&&e.handleKeyDown(...d))},[(k(!0),A(le,null,de(e.menus,(d,v)=>(k(),K(r,{key:v,ref_for:!0,ref:p=>e.menuList[v]=p,index:v,nodes:[...d]},null,8,["index","nodes"]))),128))],34)}var be=he(Ta,[["render",wa],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/index.vue"]]);be.install=e=>{e.component(be.name,be)};const Va=be,Pa=40,Da={large:36,default:32,small:28},Sa={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:e})=>{const{modifiersData:n,placement:a}=e;["right","left","bottom","top"].includes(a)||(n.arrow.x=35)},requires:["arrow"]}]},Xe="ElCascader",La=se({name:Xe,components:{ElCascaderPanel:Va,ElInput:on,ElTooltip:zn,ElScrollbar:en,ElTag:On,ElIcon:Te,CircleClose:Kn,Check:Ye,ArrowDown:Rn},directives:{Clickoutside:qn},props:ve(te({},pn),{size:{type:String,validator:Un},placeholder:{type:String},disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Function,default:(e,n)=>e.text.includes(n)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Function,default:()=>!0},popperClass:{type:String,default:""},popperAppendToBody:{type:Boolean,default:void 0},teleported:jn.teleported,tagType:ve(te({},Gn.type),{default:"info"})}),emits:[ue,ce,"focus","blur","visible-change","expand-change","remove-tag"],setup(e,{emit:n}){let a=0,l=0;const{compatTeleported:t}=Wn(Xe,"popperAppendToBody"),o=ae("cascader"),r=ae("input"),{t:d}=we(),v=ke(Zn,{}),p=ke(rn,{}),h=I(null),$=I(null),f=I(null),g=I(null),b=I(null),V=I(!1),i=I(!1),P=I(!1),B=I(""),R=I(""),q=I([]),U=I([]),C=I([]),F=I(!1),Z=m(()=>e.disabled||v.disabled),fe=m(()=>e.placeholder||d("el.cascader.placeholder")),oe=Qn(),Ve=m(()=>["small"].includes(oe.value)?"small":"default"),u=m(()=>!!e.props.multiple),y=m(()=>!e.filterable||u.value),E=m(()=>u.value?R.value:B.value),D=m(()=>{var s;return((s=g.value)==null?void 0:s.checkedNodes)||[]}),M=m(()=>!e.clearable||Z.value||P.value||!i.value?!1:!!D.value.length),L=m(()=>{const{showAllLevels:s,separator:c}=e,T=D.value;return T.length?u.value?" ":T[0].calcText(s,c):""}),Y=m({get(){return e.modelValue},set(s){var c;n(ue,s),n(ce,s),(c=p.validate)==null||c.call(p,"change").catch(T=>dn())}}),j=m(()=>{var s,c;return(c=(s=h.value)==null?void 0:s.popperRef)==null?void 0:c.contentRef}),Q=s=>{var c,T,z;if(!Z.value&&(s=s!=null?s:!V.value,s!==V.value)){if(V.value=s,(T=(c=$.value)==null?void 0:c.input)==null||T.setAttribute("aria-expanded",`${s}`),s)G(),re((z=g.value)==null?void 0:z.scrollToExpandingNode);else if(e.filterable){const{value:ee}=L;B.value=ee,R.value=ee}n("visible-change",s)}},G=()=>{re(()=>{var s;(s=h.value)==null||s.updatePopper()})},Pe=()=>{P.value=!1},De=s=>{const{showAllLevels:c,separator:T}=e;return{node:s,key:s.uid,text:s.calcText(c,T),hitState:!1,closable:!Z.value&&!s.isDisabled,isCollapseTag:!1}},ze=s=>{var c;const T=s.node;T.doCheck(!1),(c=g.value)==null||c.calculateCheckedValue(),n("remove-tag",T.valueByOption)},vn=()=>{if(!u.value)return;const s=D.value,c=[],T=[];if(s.forEach(z=>T.push(De(z))),U.value=T,s.length){const[z,...ee]=s,ne=ee.length;c.push(De(z)),ne&&(e.collapseTags?c.push({key:-1,text:`+ ${ne}`,closable:!1,isCollapseTag:!0}):ee.forEach(_=>c.push(De(_))))}q.value=c},Oe=()=>{var s,c;const{filterMethod:T,showAllLevels:z,separator:ee}=e,ne=(c=(s=g.value)==null?void 0:s.getFlattedNodes(!e.props.checkStrictly))==null?void 0:c.filter(_=>_.isDisabled?!1:(_.calcText(z,ee),T(_,E.value)));u.value&&(q.value.forEach(_=>{_.hitState=!1}),U.value.forEach(_=>{_.hitState=!1})),P.value=!0,C.value=ne,G()},Ke=()=>{var s;let c;P.value&&b.value?c=b.value.$el.querySelector(`.${o.e("suggestion-item")}`):c=(s=g.value)==null?void 0:s.$el.querySelector(`.${o.b("node")}[tabindex="-1"]`),c&&(c.focus(),!P.value&&c.click())},Se=()=>{var s,c;const T=(s=$.value)==null?void 0:s.input,z=f.value,ee=(c=b.value)==null?void 0:c.$el;if(!(!ln||!T)){if(ee){const ne=ee.querySelector(`.${o.e("suggestion-list")}`);ne.style.minWidth=`${T.offsetWidth}px`}if(z){const{offsetHeight:ne}=z,_=q.value.length>0?`${Math.max(ne+6,a)}px`:`${a}px`;T.style.height=_,G()}}},gn=s=>{var c;return(c=g.value)==null?void 0:c.getCheckedNodes(s)},mn=s=>{G(),n("expand-change",s)},kn=s=>{var c;const T=(c=s.target)==null?void 0:c.value;if(s.type==="compositionend")F.value=!1,re(()=>Re(T));else{const z=T[T.length-1]||"";F.value=!ea(z)}},Cn=s=>{if(!F.value)switch(s.code){case O.enter:Q();break;case O.down:Q(!0),re(Ke),s.preventDefault();break;case O.esc:case O.tab:Q(!1);break}},bn=()=>{var s;(s=g.value)==null||s.clearCheckedNodes(),Q(!1)},yn=s=>{var c,T;const{checked:z}=s;u.value?(c=g.value)==null||c.handleCheckChange(s,!z,!1):(!z&&((T=g.value)==null||T.handleCheckChange(s,!0,!1)),Q(!1))},En=s=>{const c=s.target,{code:T}=s;switch(T){case O.up:case O.down:{const z=T===O.up?-1:1;Ce(sn(c,z,`.${o.e("suggestion-item")}[tabindex="-1"]`));break}case O.enter:c.click();break;case O.esc:case O.tab:Q(!1);break}},Nn=()=>{const s=q.value,c=s[s.length-1];l=R.value?0:l+1,!(!c||!l)&&(c.hitState?ze(c):c.hitState=!0)},$n=Jn(()=>{const{value:s}=E;if(!s)return;const c=e.beforeFilter(s);Xn(c)?c.then(Oe).catch(()=>{}):c!==!1?Oe():Pe()},e.debounce),Re=(s,c)=>{!V.value&&Q(!0),!(c!=null&&c.isComposing)&&(s?$n():Pe())};return X(P,G),X([D,Z],vn),X(q,()=>{re(()=>Se())}),X(L,s=>B.value=s,{immediate:!0}),tn(()=>{var s;const c=(s=$.value)==null?void 0:s.$el;a=(c==null?void 0:c.offsetHeight)||Da[oe.value]||Pa,Yn(c,Se)}),_n(()=>{var s;xn((s=$.value)==null?void 0:s.$el,Se)}),{popperOptions:Sa,tooltipRef:h,popperPaneRef:j,input:$,tagWrapper:f,panel:g,suggestionPanel:b,popperVisible:V,inputHover:i,inputPlaceholder:fe,filtering:P,presentText:L,checkedValue:Y,inputValue:B,searchInputValue:R,presentTags:q,allPresentTags:U,suggestions:C,isDisabled:Z,isOnComposition:F,realSize:oe,tagSize:Ve,multiple:u,readonly:y,clearBtnVisible:M,compatTeleported:t,nsCascader:o,nsInput:r,t:d,togglePopperVisible:Q,hideSuggestionPanel:Pe,deleteTag:ze,focusFirstNode:Ke,getCheckedNodes:gn,handleExpandChange:mn,handleKeyDown:Cn,handleComposition:kn,handleClear:bn,handleSuggestionClick:yn,handleSuggestionKeyDown:En,handleDelete:Nn,handleInput:Re}}}),Ma={key:0},Ia={class:"el-cascader__collapse-tags"},Aa=["placeholder"],Ha=["onClick"];function Ba(e,n,a,l,t,o){const r=w("circle-close"),d=w("el-icon"),v=w("arrow-down"),p=w("el-input"),h=w("el-tag"),$=w("el-tooltip"),f=w("el-cascader-panel"),g=w("check"),b=w("el-scrollbar"),V=na("clickoutside");return k(),K($,{ref:"tooltipRef",visible:e.popperVisible,"onUpdate:visible":n[17]||(n[17]=i=>e.popperVisible=i),teleported:e.compatTeleported,"popper-class":[e.nsCascader.e("dropdown"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${e.nsCascader.namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:e.hideSuggestionPanel},{default:S(()=>[ie((k(),A("div",{class:N([e.nsCascader.b(),e.nsCascader.m(e.realSize),e.nsCascader.is("disabled",e.isDisabled),e.$attrs.class]),style:la(e.$attrs.style),onClick:n[11]||(n[11]=()=>e.togglePopperVisible(e.readonly?void 0:!0)),onKeydown:n[12]||(n[12]=(...i)=>e.handleKeyDown&&e.handleKeyDown(...i)),onMouseenter:n[13]||(n[13]=i=>e.inputHover=!0),onMouseleave:n[14]||(n[14]=i=>e.inputHover=!1)},[H(p,{ref:"input",modelValue:e.inputValue,"onUpdate:modelValue":n[1]||(n[1]=i=>e.inputValue=i),placeholder:e.inputPlaceholder,readonly:e.readonly,disabled:e.isDisabled,"validate-event":!1,size:e.realSize,class:N(e.nsCascader.is("focus",e.popperVisible)),onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onFocus:n[2]||(n[2]=i=>e.$emit("focus",i)),onBlur:n[3]||(n[3]=i=>e.$emit("blur",i)),onInput:e.handleInput},{suffix:S(()=>[e.clearBtnVisible?(k(),K(d,{key:"clear",class:N([e.nsInput.e("icon"),"icon-circle-close"]),onClick:ge(e.handleClear,["stop"])},{default:S(()=>[H(r)]),_:1},8,["class","onClick"])):(k(),K(d,{key:"arrow-down",class:N([e.nsInput.e("icon"),"icon-arrow-down",e.nsCascader.is("reverse",e.popperVisible)]),onClick:n[0]||(n[0]=ge(i=>e.togglePopperVisible(),["stop"]))},{default:S(()=>[H(v)]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","onCompositionstart","onCompositionupdate","onCompositionend","onInput"]),e.multiple?(k(),A("div",{key:0,ref:"tagWrapper",class:N(e.nsCascader.e("tags"))},[(k(!0),A(le,null,de(e.presentTags,i=>(k(),K(h,{key:i.key,type:e.tagType,size:e.tagSize,hit:i.hitState,closable:i.closable,"disable-transitions":"",onClose:P=>e.deleteTag(i)},{default:S(()=>[i.isCollapseTag===!1?(k(),A("span",Ma,J(i.text),1)):(k(),K($,{key:1,teleported:!1,disabled:e.popperVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:S(()=>[x("span",null,J(i.text),1)]),content:S(()=>[x("div",Ia,[(k(!0),A(le,null,de(e.allPresentTags,(P,B)=>(k(),A("div",{key:B,class:"el-cascader__collapse-tag"},[(k(),K(h,{key:P.key,class:"in-tooltip",type:e.tagType,size:e.tagSize,hit:P.hitState,closable:P.closable,"disable-transitions":"",onClose:R=>e.deleteTag(P)},{default:S(()=>[x("span",null,J(P.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))]))),128))])]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),e.filterable&&!e.isDisabled?ie((k(),A("input",{key:0,"onUpdate:modelValue":n[4]||(n[4]=i=>e.searchInputValue=i),type:"text",class:N(e.nsCascader.e("search-input")),placeholder:e.presentText?"":e.inputPlaceholder,onInput:n[5]||(n[5]=i=>e.handleInput(e.searchInputValue,i)),onClick:n[6]||(n[6]=ge(i=>e.togglePopperVisible(!0),["stop"])),onKeydown:n[7]||(n[7]=aa((...i)=>e.handleDelete&&e.handleDelete(...i),["delete"])),onCompositionstart:n[8]||(n[8]=(...i)=>e.handleComposition&&e.handleComposition(...i)),onCompositionupdate:n[9]||(n[9]=(...i)=>e.handleComposition&&e.handleComposition(...i)),onCompositionend:n[10]||(n[10]=(...i)=>e.handleComposition&&e.handleComposition(...i))},null,42,Aa)),[[ta,e.searchInputValue]]):W("v-if",!0)],2)):W("v-if",!0)],38)),[[V,()=>e.togglePopperVisible(!1),e.popperPaneRef]])]),content:S(()=>[ie(H(f,{ref:"panel",modelValue:e.checkedValue,"onUpdate:modelValue":n[15]||(n[15]=i=>e.checkedValue=i),options:e.options,props:e.props,border:!1,"render-label":e.$slots.default,onExpandChange:e.handleExpandChange,onClose:n[16]||(n[16]=i=>e.$nextTick(()=>e.togglePopperVisible(!1)))},null,8,["modelValue","options","props","render-label","onExpandChange"]),[[Ne,!e.filtering]]),e.filterable?ie((k(),K(b,{key:0,ref:"suggestionPanel",tag:"ul",class:N(e.nsCascader.e("suggestion-panel")),"view-class":e.nsCascader.e("suggestion-list"),onKeydown:e.handleSuggestionKeyDown},{default:S(()=>[e.suggestions.length?(k(!0),A(le,{key:0},de(e.suggestions,i=>(k(),A("li",{key:i.uid,class:N([e.nsCascader.e("suggestion-item"),e.nsCascader.is("checked",i.checked)]),tabindex:-1,onClick:P=>e.handleSuggestionClick(i)},[x("span",null,J(i.text),1),i.checked?(k(),K(d,{key:0},{default:S(()=>[H(g)]),_:1})):W("v-if",!0)],10,Ha))),128)):$e(e.$slots,"empty",{key:1},()=>[x("li",{class:N(e.nsCascader.e("empty-text"))},J(e.t("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class","onKeydown"])),[[Ne,e.filtering]]):W("v-if",!0)]),_:3},8,["visible","teleported","popper-class","popper-options","transition","onHide"])}var ye=he(La,[["render",Ba],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader/src/index.vue"]]);ye.install=e=>{e.component(ye.name,ye)};const Fa=ye,at=Fa,Ae="checked-change",za={data:{type:Array,default(){return[]}},optionRender:Function,placeholder:String,title:String,filterable:Boolean,format:Object,filterMethod:Function,defaultChecked:Array,props:Object},Oa=(e,n)=>{const{emit:a}=an(),l=m(()=>e.props.label||"label"),t=m(()=>e.props.key||"key"),o=m(()=>e.props.disabled||"disabled"),r=m(()=>e.data.filter(f=>typeof e.filterMethod=="function"?e.filterMethod(n.query,f):(f[l.value]||f[t.value].toString()).toLowerCase().includes(n.query.toLowerCase()))),d=m(()=>r.value.filter(f=>!f[o.value])),v=m(()=>{const f=n.checked.length,g=e.data.length,{noChecked:b,hasChecked:V}=e.format;return b&&V?f>0?V.replace(/\${checked}/g,f.toString()).replace(/\${total}/g,g.toString()):b.replace(/\${total}/g,g.toString()):`${f}/${g}`}),p=m(()=>{const f=n.checked.length;return f>0&&f<d.value.length}),h=()=>{const f=d.value.map(g=>g[t.value]);n.allChecked=f.length>0&&f.every(g=>n.checked.includes(g))},$=f=>{n.checked=f?d.value.map(g=>g[t.value]):[]};return X(()=>n.checked,(f,g)=>{if(h(),n.checkChangeByUser){const b=f.concat(g).filter(V=>!f.includes(V)||!g.includes(V));a(Ae,f,b)}else a(Ae,f),n.checkChangeByUser=!0}),X(d,()=>{h()}),X(()=>e.data,()=>{const f=[],g=r.value.map(b=>b[t.value]);n.checked.forEach(b=>{g.includes(b)&&f.push(b)}),n.checkChangeByUser=!1,n.checked=f}),X(()=>e.defaultChecked,(f,g)=>{if(g&&f.length===g.length&&f.every(i=>g.includes(i)))return;const b=[],V=d.value.map(i=>i[t.value]);f.forEach(i=>{V.includes(i)&&b.push(i)}),n.checkChangeByUser=!1,n.checked=b},{immediate:!0}),{labelProp:l,keyProp:t,disabledProp:o,filteredData:r,checkableData:d,checkedSummary:v,isIndeterminate:p,updateAllChecked:h,handleAllCheckedChange:$}},Ka=se({name:"ElTransferPanel",components:{ElCheckboxGroup:ia,ElCheckbox:cn,ElInput:on,OptionContent:({option:e})=>e},props:za,emits:[Ae],setup(e,{slots:n}){const{t:a}=we(),l=ae("transfer"),t=He({checked:[],allChecked:!1,query:"",inputHover:!1,checkChangeByUser:!0}),{labelProp:o,keyProp:r,disabledProp:d,filteredData:v,checkedSummary:p,isIndeterminate:h,handleAllCheckedChange:$}=Oa(e,t),f=m(()=>t.query.length>0&&v.value.length===0),g=m(()=>!!n.default()[0].children.length),{checked:b,allChecked:V,query:i,inputHover:P,checkChangeByUser:B}=un(t);return{ns:l,labelProp:o,keyProp:r,disabledProp:d,filteredData:v,checkedSummary:p,isIndeterminate:h,handleAllCheckedChange:$,checked:b,allChecked:V,query:i,inputHover:P,checkChangeByUser:B,hasNoMatch:f,SearchIcon:sa,hasFooter:g,t:a}}});function Ra(e,n,a,l,t,o){const r=w("el-checkbox"),d=w("el-input"),v=w("option-content"),p=w("el-checkbox-group");return k(),A("div",{class:N(e.ns.b("panel"))},[x("p",{class:N(e.ns.be("panel","header"))},[H(r,{modelValue:e.allChecked,"onUpdate:modelValue":n[0]||(n[0]=h=>e.allChecked=h),indeterminate:e.isIndeterminate,onChange:e.handleAllCheckedChange},{default:S(()=>[nn(J(e.title)+" ",1),x("span",null,J(e.checkedSummary),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),x("div",{class:N([e.ns.be("panel","body"),e.ns.is("with-footer",e.hasFooter)])},[e.filterable?(k(),K(d,{key:0,modelValue:e.query,"onUpdate:modelValue":n[1]||(n[1]=h=>e.query=h),class:N(e.ns.be("panel","filter")),size:"default",placeholder:e.placeholder,"prefix-icon":e.SearchIcon,clearable:"",onMouseenter:n[2]||(n[2]=h=>e.inputHover=!0),onMouseleave:n[3]||(n[3]=h=>e.inputHover=!1)},null,8,["modelValue","class","placeholder","prefix-icon"])):W("v-if",!0),ie(H(p,{modelValue:e.checked,"onUpdate:modelValue":n[4]||(n[4]=h=>e.checked=h),class:N([e.ns.is("filterable",e.filterable),e.ns.be("panel","list")])},{default:S(()=>[(k(!0),A(le,null,de(e.filteredData,h=>(k(),K(r,{key:h[e.keyProp],class:N(e.ns.be("panel","item")),label:h[e.keyProp],disabled:h[e.disabledProp]},{default:S(()=>[H(v,{option:e.optionRender(h)},null,8,["option"])]),_:2},1032,["class","label","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[Ne,!e.hasNoMatch&&e.data.length>0]]),ie(x("p",{class:N(e.ns.be("panel","empty"))},J(e.hasNoMatch?e.t("el.transfer.noMatch"):e.t("el.transfer.noData")),3),[[Ne,e.hasNoMatch||e.data.length===0]])],2),e.hasFooter?(k(),A("p",{key:0,class:N(e.ns.be("panel","footer"))},[$e(e.$slots,"default")],2)):W("v-if",!0)],2)}var qa=he(Ka,[["render",Ra],["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer-panel.vue"]]);const Ua=e=>{const n=m(()=>e.props.key),a=m(()=>e.data.reduce((o,r)=>(o[r[n.value]]=r)&&o,{})),l=m(()=>e.data.filter(o=>!e.modelValue.includes(o[n.value]))),t=m(()=>e.targetOrder==="original"?e.data.filter(o=>e.modelValue.includes(o[n.value])):e.modelValue.reduce((o,r)=>{const d=a.value[r];return d&&o.push(d),o},[]));return{propsKey:n,sourceData:l,targetData:t}},hn="left-check-change",fn="right-check-change",ja=(e,n)=>({onSourceCheckedChange:(t,o)=>{e.leftChecked=t,o!==void 0&&n(hn,t,o)},onTargetCheckedChange:(t,o)=>{e.rightChecked=t,o!==void 0&&n(fn,t,o)}}),Ga=(e,n,a,l)=>{const t=(d,v,p)=>{l(ue,d),l(ce,d,v,p)};return{addToLeft:()=>{const d=e.modelValue.slice();n.rightChecked.forEach(v=>{const p=d.indexOf(v);p>-1&&d.splice(p,1)}),t(d,"left",n.rightChecked)},addToRight:()=>{let d=e.modelValue.slice();const v=e.data.filter(p=>{const h=p[a.value];return n.leftChecked.includes(h)&&!e.modelValue.includes(h)}).map(p=>p[a.value]);d=e.targetOrder==="unshift"?v.concat(d):d.concat(v),e.targetOrder==="original"&&(d=e.data.filter(p=>d.includes(p[a.value])).map(p=>p[a.value])),t(d,"right",n.leftChecked)}}},Wa=se({name:"ElTransfer",components:{TransferPanel:qa,ElButton:oa,ElIcon:Te,ArrowLeft:ra,ArrowRight:xe},props:{data:{type:Array,default:()=>[]},titles:{type:Array,default:()=>[]},buttonTexts:{type:Array,default:()=>[]},filterPlaceholder:{type:String,default:""},filterMethod:Function,leftDefaultChecked:{type:Array,default:()=>[]},rightDefaultChecked:{type:Array,default:()=>[]},renderContent:Function,modelValue:{type:Array,default:()=>[]},format:{type:Object,default:()=>({})},filterable:{type:Boolean,default:!1},props:{type:Object,default:()=>({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,default:"original",validator:e=>["original","push","unshift"].includes(e)}},emits:[ue,ce,hn,fn],setup(e,{emit:n,slots:a}){const{t:l}=we(),t=ae("transfer"),o=ke(rn,{}),r=He({leftChecked:[],rightChecked:[]}),{propsKey:d,sourceData:v,targetData:p}=Ua(e),{onSourceCheckedChange:h,onTargetCheckedChange:$}=ja(r,n),{addToLeft:f,addToRight:g}=Ga(e,r,d,n),b=I(),V=I(),i=C=>{switch(C){case"left":b.value.query="";break;case"right":V.value.query="";break}},P=m(()=>e.buttonTexts.length===2),B=m(()=>e.titles[0]||l("el.transfer.titles.0")),R=m(()=>e.titles[1]||l("el.transfer.titles.1")),q=m(()=>e.filterPlaceholder||l("el.transfer.filterPlaceholder"));X(()=>e.modelValue,()=>{var C;(C=o.validate)==null||C.call(o,"change").catch(F=>dn())});const U=m(()=>C=>e.renderContent?e.renderContent(Le,C):a.default?a.default({option:C}):Le("span",C[e.props.label]||C[e.props.key]));return ve(te({ns:t,sourceData:v,targetData:p,onSourceCheckedChange:h,onTargetCheckedChange:$,addToLeft:f,addToRight:g},un(r)),{hasButtonTexts:P,leftPanelTitle:B,rightPanelTitle:R,panelFilterPlaceholder:q,clearQuery:i,leftPanel:b,rightPanel:V,optionRender:U})}}),Za={key:0},Qa={key:0};function Ja(e,n,a,l,t,o){const r=w("transfer-panel"),d=w("arrow-left"),v=w("el-icon"),p=w("el-button"),h=w("arrow-right");return k(),A("div",{class:N(e.ns.b())},[H(r,{ref:"leftPanel",data:e.sourceData,"option-render":e.optionRender,placeholder:e.panelFilterPlaceholder,title:e.leftPanelTitle,filterable:e.filterable,format:e.format,"filter-method":e.filterMethod,"default-checked":e.leftDefaultChecked,props:e.props,onCheckedChange:e.onSourceCheckedChange},{default:S(()=>[$e(e.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),x("div",{class:N(e.ns.e("buttons"))},[H(p,{type:"primary",class:N([e.ns.e("button"),e.ns.is("with-texts",e.hasButtonTexts)]),disabled:e.rightChecked.length===0,onClick:e.addToLeft},{default:S(()=>[H(v,null,{default:S(()=>[H(d)]),_:1}),e.buttonTexts[0]!==void 0?(k(),A("span",Za,J(e.buttonTexts[0]),1)):W("v-if",!0)]),_:1},8,["class","disabled","onClick"]),H(p,{type:"primary",class:N([e.ns.e("button"),e.ns.is("with-texts",e.hasButtonTexts)]),disabled:e.leftChecked.length===0,onClick:e.addToRight},{default:S(()=>[e.buttonTexts[1]!==void 0?(k(),A("span",Qa,J(e.buttonTexts[1]),1)):W("v-if",!0),H(v,null,{default:S(()=>[H(h)]),_:1})]),_:1},8,["class","disabled","onClick"])],2),H(r,{ref:"rightPanel",data:e.targetData,"option-render":e.optionRender,placeholder:e.panelFilterPlaceholder,filterable:e.filterable,format:e.format,"filter-method":e.filterMethod,title:e.rightPanelTitle,"default-checked":e.rightDefaultChecked,props:e.props,onCheckedChange:e.onTargetCheckedChange},{default:S(()=>[$e(e.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2)}var Ee=he(Wa,[["render",Ja],["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/index.vue"]]);Ee.install=e=>{e.component(Ee.name,Ee)};const Xa=Ee,tt=Xa;export{at as E,tt as a};
