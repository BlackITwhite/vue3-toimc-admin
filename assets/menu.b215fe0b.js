var A=Object.defineProperty,I=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var S=(e,t,n)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))z.call(t,n)&&S(e,n,t[n]);if(E)for(var n of E(t))D.call(t,n)&&S(e,n,t[n]);return e},p=(e,t)=>I(e,j(t));import{u as L,dN as C,C as O,l as N,v as k,ao as T,e as P,N as M,D as H,af as U,ai as q,ac as F,f as x,W as _,am as R,a2 as V,x as W}from"./index.da4c6fdc.js";import{_ as b}from"./el-tree.b3edd11a.js";import{a as g}from"./index.cf99b79d.js";const $=(e,{attrs:t},{tree:n,key:c})=>{const d=L("tree-select"),r=p(u(u({},C(O(e),Object.keys(N.props))),t),{valueKey:c,popperClass:k(()=>{const i=[d.e("popper")];return e.popperClass&&i.push(e.popperClass),i.join(" ")}),filterMethod:(i="")=>{e.filterMethod&&e.filterMethod(i),T(()=>{var f;(f=n.value)==null||f.filter(i)})},onVisibleChange:i=>{var f;(f=t.onVisibleChange)==null||f.call(t,i),e.filterable&&i&&r.filterMethod()}});return r},G=P({extends:M,setup(e,t){const n=M.setup(e,t);return delete n.selectOptionClick,n},methods:{selectOptionClick(){this.$el.parentElement.click()}}}),J=(e,{attrs:t,slots:n,emit:c},{select:d,tree:r,key:i})=>{H(()=>e.modelValue,()=>{e.showCheckbox&&T(()=>{const l=r.value;l&&!U(l.getCheckedKeys(),K(e.modelValue))&&l.setCheckedKeys(K(e.modelValue))})},{immediate:!0,deep:!0});const f=k(()=>u({value:i.value},e.props)),h=(l,s)=>{var o;const a=f.value[l];return F(a)?a(s,(o=r.value)==null?void 0:o.getNode(h("value",s))):s[a]};return p(u(u({},C(O(e),Object.keys(b.props))),t),{nodeKey:i,expandOnClickNode:k(()=>!e.checkStrictly),defaultExpandedKeys:k(()=>{const l=K(e.modelValue),s=r.value?l.map(o=>{var a,v,m;return(m=(v=(a=r.value)==null?void 0:a.getNode(o))==null?void 0:v.parent)==null?void 0:m.key}).filter(o=>B(o)):l;return e.defaultExpandedKeys?e.defaultExpandedKeys.concat(s):s}),renderContent:(l,{node:s,data:o,store:a})=>l(G,{value:h("value",o),label:h("label",o),disabled:h("disabled",o)},e.renderContent?()=>e.renderContent(l,{node:s,data:o,store:a}):n.default?()=>n.default({node:s,data:o,store:a}):void 0),filterNodeMethod:(l,s,o)=>{var a;return e.filterNodeMethod?e.filterNodeMethod(l,s,o):l?(a=h("label",s))==null?void 0:a.includes(l):!0},onNodeClick:(l,s,o)=>{var a,v,m;if((a=t.onNodeClick)==null||a.call(t,l,s,o),e.checkStrictly||s.isLeaf){if(!h("disabled",l)){const w=(v=d.value)==null?void 0:v.options.get(h("value",l));(m=d.value)==null||m.handleOptionSelect(w,!0)}}else o.proxy.handleExpandIconClick()},onCheck:(l,s)=>{var o,a;(o=t.onCheck)==null||o.call(t,l,s);const v=e.checkStrictly?s.checkedKeys:(a=r.value)==null?void 0:a.getCheckedKeys(!0),m=h("value",l);c(q,e.multiple?v:v.includes(m)?m:void 0)}})};function B(e){return e||e===0}function K(e){return Array.isArray(e)?e:B(e)?[e]:[]}const Q=P({name:"ElTreeSelect",inheritAttrs:!1,props:u(u({},N.props),b.props),setup(e,t){const{slots:n,expose:c}=t,d=x(),r=x(),i=k(()=>e.valueKey||e.nodeKey||"value"),f=$(e,t,{select:d,tree:r,key:i}),h=J(e,t,{select:d,tree:r,key:i}),l=_({});return c(l),R(()=>{Object.assign(l,u(u({},C(r.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"])),C(d.value,["focus","blur"])))}),()=>V(N,_(p(u({},f),{ref:s=>d.value=s})),p(u({},n),{default:()=>V(b,_(p(u({},h),{ref:s=>r.value=s})))}))}});var y=W(Q,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-select/src/tree-select.vue"]]);y.install=e=>{e.component(y.name,y)};const X=y,ne=X;const le=e=>new Promise(t=>{const n={authorization:"Bearer "+localStorage.getItem("token")};g.get("/api/sys/permission/list",{params:e,headers:n}).then(c=>{t(c.data)})}),se=(e,t)=>{const n=t?"/api/sys/permission/edit":"/api/sys/permission/add",c={authorization:"Bearer "+localStorage.getItem("token")};return new Promise(d=>{g.post(n,e,{headers:c}).then(r=>{d(r.data)})})},oe=e=>{const t={authorization:"Bearer "+localStorage.getItem("token")};return new Promise(n=>{g.delete("/api/sys/permission/delete",{params:e,headers:t}).then(c=>{n(c.data)})})},ae=e=>{const t={authorization:"Bearer "+localStorage.getItem("token")};return new Promise(n=>{g.delete("/api/sys/permission/deleteBatch",{data:e,headers:t}).then(c=>{n(c.data)})})};export{ne as E,oe as a,ae as d,le as g,se as s};
