var O=Object.defineProperty,P=Object.defineProperties;var Q=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var U=(a,u,l)=>u in a?O(a,u,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[u]=l,q=(a,u)=>{for(var l in u||(u={}))j.call(u,l)&&U(a,l,u[l]);if(w)for(var l of w(u))G.call(u,l)&&U(a,l,u[l]);return a},V=(a,u)=>P(a,Q(u));import{g as H,b2 as J,h as z,cB as X,aV as Y,O as Z,cL as W,e as ee,B as ue,o as te,c as ne,a as C,b as d,w as c,bb as t,t as k,k as n,E as I,l as oe}from"./index.3fe8d540.js";/* empty css                   */import{a as M}from"./index.cf99b79d.js";const le=M.create({baseURL:"/api",timeout:30*1e3});function K(a){const u=H();return{instance:le(V(q({},a),{cancelToken:new M.CancelToken(l=>{u.value=l})})),cancel:u}}const L=Symbol("default");function v(a,u={}){const{manual:l=!1,defaultParams:R=[],repeatCancel:x=!1,refreshDeps:$=null,refreshDepsParams:F=null,debounceWait:b,debounceLeading:p,debounceTrailing:A,throttleWait:h,throttleLeading:f,throttleTrailing:E,queryKey:B=null}=u,s=z({[L]:{data:null,loading:!1,cancel:()=>null,err:void 0}}),i=async(...o)=>{const r=B?B(...o):L;s[r]||(s[r]={}),!B&&x&&s[r].cancel(),s[r].loading=!0;const{instance:y,cancel:S}=a(...o);s[r].cancel=S,y.then(D=>{s[r].data=D.data.data,s[r].err=void 0,W(u.onSuccess)&&u.onSuccess(D,o)}).catch(D=>{s[r].err=D,W(u.onError)&&u.onError(D,o)}).finally(()=>{s[r].loading=!1})};let e=i;return h&&(e=X(i,h,{leading:f||!0,trailing:E||!0})),b&&(e=Y(i,b,{leading:p||!0,trailing:A||!0})),$&&Z($,()=>{e(...(F==null?void 0:F.value)||[])},{deep:!0}),l||e(...R),q({run:e,querise:s},J(s[L]))}const ae={class:"p-[24px]"},se=n(" \u666E\u901A\u8BF7\u6C42\u793A\u4F8B "),ie=n("\u8BF7\u6C42"),re=n("\u53D6\u6D88"),de=n(" \u91CD\u590D\u8BF7\u6C42\u5173\u95ED,\u53EA\u4FDD\u7559\u6700\u540E\u4E00\u4E2A\u8BF7\u6C42\uFF0C\u4F20\u5165queryKey\u65F6\u65E0\u6548 "),ce=n("\u8BF7\u6C42"),fe=n(" \u4F9D\u8D56\u66F4\u65B0,\u4F9D\u8D56\u9879\u53D1\u751F\u53D8\u5316\u65F6\uFF0C\u81EA\u52A8\u89E6\u53D1\u8BF7\u6C42 "),ge=n("\u4E0B\u4E00\u9875"),_e=n(" \u5E76\u53D1\u8BF7\u6C42 "),Ce=n("\u5220\u9664"),De=n("\u53D6\u6D88"),me=n("\u5220\u9664"),ve=n("\u53D6\u6D88"),Fe=n("\u5220\u9664"),pe=n("\u53D6\u6D88"),Ee=n(" \u9632\u6296 "),Be=n("\u9632\u6296"),ke=n(" \u8282\u6D41 "),$e=n("\u8282\u6D41"),qe=ee({setup(a){function u(i){return K({url:"/getUserInfo",method:"get",params:{id:i}})}const{run:l,loading:R,data:x,err:$,cancel:F}=v(u,{manual:!0,onSuccess(i,e){I.success(`\u8BF7\u6C42\u6210\u529F \u53C2\u6570: ${e.toString()}`)},onError(i,e){I.error(`\u8BF7\u6C42\u9519\u8BEF \u53C2\u6570: ${e.toString()}`)}}),{run:b}=v(u,{manual:!0,repeatCancel:!0}),p=z({pageNum:1,pageSize:10});function A(i){return K({url:"/getUserInfo",method:"get",params:q({},i)})}const{loading:h}=v(A,{manual:!0,refreshDeps:[()=>p],refreshDepsParams:ue(()=>[p])}),{querise:f,run:E}=v(u,{manual:!0,queryKey:i=>String(i)}),{run:B}=v(u,{manual:!0,debounceWait:1500}),{run:s}=v(u,{manual:!0,throttleWait:1500});return(i,e)=>{var r,y,S,D,N,T;const o=oe;return te(),ne("div",ae,[se,C("div",null,[d(o,{loading:t(R),onClick:e[0]||(e[0]=g=>t(l)(1))},{default:c(()=>[ie]),_:1},8,["loading"]),d(o,{onClick:e[1]||(e[1]=g=>{var _;return(_=t(F))==null?void 0:_()})},{default:c(()=>[re]),_:1}),C("div",null," data: "+k(t(x)),1),C("div",null," err: "+k(t($)),1)]),de,C("div",null,[d(o,{onClick:e[2]||(e[2]=g=>t(b)(2))},{default:c(()=>[ce]),_:1})]),fe,C("div",null,[d(o,{loading:t(h),onClick:e[3]||(e[3]=g=>t(p).pageNum++)},{default:c(()=>[ge]),_:1},8,["loading"])]),_e,C("ul",null,[C("li",null,[d(o,{loading:(r=t(f)[1])==null?void 0:r.loading,onClick:e[4]||(e[4]=g=>t(E)(1))},{default:c(()=>[Ce]),_:1},8,["loading"]),d(o,{onClick:e[5]||(e[5]=g=>{var _,m;return(m=(_=t(f)[1]).cancel)==null?void 0:m.call(_)})},{default:c(()=>[De]),_:1}),n(" "+k((y=t(f)[1])==null?void 0:y.data),1)]),C("li",null,[d(o,{loading:(S=t(f)[2])==null?void 0:S.loading,onClick:e[6]||(e[6]=g=>t(E)(2))},{default:c(()=>[me]),_:1},8,["loading"]),d(o,{onClick:e[7]||(e[7]=g=>{var _,m;return(m=(_=t(f)[2]).cancel)==null?void 0:m.call(_)})},{default:c(()=>[ve]),_:1}),n(" "+k((D=t(f)[2])==null?void 0:D.data),1)]),C("li",null,[d(o,{loading:(N=t(f)[3])==null?void 0:N.loading,onClick:e[8]||(e[8]=g=>t(E)(3))},{default:c(()=>[Fe]),_:1},8,["loading"]),d(o,{onClick:e[9]||(e[9]=g=>{var _,m;return(m=(_=t(f)[3]).cancel)==null?void 0:m.call(_)})},{default:c(()=>[pe]),_:1}),n(" "+k((T=t(f)[3])==null?void 0:T.data),1)])]),Ee,C("div",null,[d(o,{onClick:e[10]||(e[10]=g=>t(B)(1))},{default:c(()=>[Be]),_:1})]),ke,C("div",null,[d(o,{onClick:e[11]||(e[11]=g=>t(s)(1))},{default:c(()=>[$e]),_:1})])])}}});export{qe as default};
