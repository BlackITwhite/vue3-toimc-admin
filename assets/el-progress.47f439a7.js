import{Z as U,$ as m,e as Z,v as q,bd as S,z as C,an as P,be as D,bo as I,A as H,B as s,C as J,r as K,o as a,c as l,D as r,a as d,P as c,T as N,t as B,U as T,bp as W,G as z,j as F,w as O,F as Q,am as X}from"./index.cb5efe47.js";const Y=U({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:m(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:m([String,Array,Function]),default:""},format:{type:m(Function),default:e=>`${e}%`}}),x=Z({name:"ElProgress",components:{ElIcon:q,CircleCheck:S,CircleClose:C,Check:P,Close:D,WarningFilled:I},props:Y,setup(e){const v=H("progress"),b=s(()=>({width:`${e.percentage}%`,animationDuration:`${e.duration}s`,backgroundColor:w(e.percentage)})),p=s(()=>(e.strokeWidth/e.width*100).toFixed(1)),h=s(()=>e.type==="circle"||e.type==="dashboard"?Number.parseInt(`${50-Number.parseFloat(p.value)/2}`,10):0),$=s(()=>{const t=h.value,i=e.type==="dashboard";return`
          M 50 50
          m 0 ${i?"":"-"}${t}
          a ${t} ${t} 0 1 1 0 ${i?"-":""}${t*2}
          a ${t} ${t} 0 1 1 0 ${i?"":"-"}${t*2}
          `}),n=s(()=>2*Math.PI*h.value),f=s(()=>e.type==="dashboard"?.75:1),k=s(()=>`${-1*n.value*(1-f.value)/2}px`),E=s(()=>({strokeDasharray:`${n.value*f.value}px, ${n.value}px`,strokeDashoffset:k.value})),V=s(()=>({strokeDasharray:`${n.value*f.value*(e.percentage/100)}px, ${n.value}px`,strokeDashoffset:k.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease"})),A=s(()=>{let t;if(e.color)t=w(e.percentage);else switch(e.status){case"success":t="#13ce66";break;case"exception":t="#ff4949";break;case"warning":t="#e6a23c";break;default:t="#20a0ff"}return t}),L=s(()=>e.status==="warning"?I:e.type==="line"?e.status==="success"?S:C:e.status==="success"?P:D),M=s(()=>e.type==="line"?12+e.strokeWidth*.4:e.width*.111111+2),j=s(()=>e.format(e.percentage)),w=t=>{var i;const{color:u}=e;if(typeof u=="function")return u(t);if(typeof u=="string")return u;{const R=100/u.length,y=u.map((o,g)=>typeof o=="string"?{color:o,percentage:(g+1)*R}:o).sort((o,g)=>o.percentage-g.percentage);for(const o of y)if(o.percentage>t)return o.color;return(i=y[y.length-1])==null?void 0:i.color}},G=s(()=>({percentage:e.percentage}));return{ns:v,barStyle:b,relativeStrokeWidth:p,radius:h,trackPath:$,perimeter:n,rate:f,strokeDashoffset:k,trailPathStyle:E,circlePathStyle:V,stroke:A,statusIcon:L,progressTextSize:M,content:j,slotData:G}}}),_=["aria-valuenow"],ee={viewBox:"0 0 100 100"},te=["d","stroke","stroke-width"],se=["d","stroke","stroke-linecap","stroke-width"],ae={key:0};function re(e,v,b,p,h,$){const n=K("el-icon");return a(),l("div",{class:r([e.ns.b(),e.ns.m(e.type),e.ns.is(e.status),{[e.ns.m("without-text")]:!e.showText,[e.ns.m("text-inside")]:e.textInside}]),role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[e.type==="line"?(a(),l("div",{key:0,class:r(e.ns.b("bar"))},[d("div",{class:r(e.ns.be("bar","outer")),style:c({height:`${e.strokeWidth}px`})},[d("div",{class:r([e.ns.be("bar","inner"),{[e.ns.bem("bar","inner","indeterminate")]:e.indeterminate}]),style:c(e.barStyle)},[(e.showText||e.$slots.default)&&e.textInside?(a(),l("div",{key:0,class:r(e.ns.be("bar","innerText"))},[N(e.$slots,"default",T(W(e.slotData)),()=>[d("span",null,B(e.content),1)])],2)):z("v-if",!0)],6)],6)],2)):(a(),l("div",{key:1,class:r(e.ns.b("circle")),style:c({height:`${e.width}px`,width:`${e.width}px`})},[(a(),l("svg",ee,[d("path",{class:r(e.ns.be("circle","track")),d:e.trackPath,stroke:`var(${e.ns.cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-width":e.relativeStrokeWidth,fill:"none",style:c(e.trailPathStyle)},null,14,te),d("path",{class:r(e.ns.be("circle","path")),d:e.trackPath,stroke:e.stroke,fill:"none","stroke-linecap":e.strokeLinecap,"stroke-width":e.percentage?e.relativeStrokeWidth:0,style:c(e.circlePathStyle)},null,14,se)]))],6)),(e.showText||e.$slots.default)&&!e.textInside?(a(),l("div",{key:2,class:r(e.ns.e("text")),style:c({fontSize:`${e.progressTextSize}px`})},[N(e.$slots,"default",T(W(e.slotData)),()=>[e.status?(a(),F(n,{key:1},{default:O(()=>[(a(),F(Q(e.statusIcon)))]),_:1})):(a(),l("span",ae,B(e.content),1))])],6)):z("v-if",!0)],10,_)}var ne=J(x,[["render",re],["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const ie=X(ne);export{ie as E};
